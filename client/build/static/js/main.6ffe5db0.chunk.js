(this["webpackJsonpbp-recipe-react"]=this["webpackJsonpbp-recipe-react"]||[]).push([[0],{31:function(e,t,a){},43:function(e,t,a){e.exports=a(59)},50:function(e,t,a){},57:function(e,t,a){e.exports=a.p+"static/media/books.26746953.jpg"},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),s=a.n(o),c=(a(48),a(49),a(50),a(31),a(7)),l=a(8),i=a(10),u=a(9),m=a(11),d={LOGIN:"LoginMode",RECIPES:"RecipeMode",RECIPES_ADDRECIPE:"RecipeMode-AddRecipe",RECIPES_EDITRECIPE:"RecipeMode-EditRecipe",PANTRY:"PantryMode"};Object.freeze(d);var p=d,h=a(17),f=a(16),b=a(34),E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleMenuBtnClick=function(){a.props.mode===p.BOOKS_ADDBOOK||a.props.mode===p.BOOKS_EDITBOOK?a.props.changeMode(p.BOOKS):a.props.mode!=p.LOGIN&&a.props.toggleMenuOpen()},a.getMenuBtnIcon=function(){return a.props.mode===p.BOOKS_ADDBOOK||a.props.mode===p.BOOKS_EDITBOOK?"fa fa-arrow-left":a.props.menuOpen?"fa fa-times":"fa fa-bars"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{className:"navbar-base"},"\xa0",r.a.createElement(h.a.Item,{className:"navbar-brand-custom"},r.a.createElement("span",{className:"modebar-icon fa fa-th-list"}),"\xa0\xa0My Recipe App"),r.a.createElement("div",{className:"navbar-items ml-auto"},r.a.createElement(h.a.Item,null,r.a.createElement(h.a.Link,{className:this.props.mode==p.RECIPES?"navlink navlink-selected":"navlink",onClick:function(){return e.props.changeMode(p.RECIPES)}},"Recipe List")),r.a.createElement(h.a.Item,null,r.a.createElement(h.a.Link,{onClick:function(){return e.props.changeMode(p.PANTRY)},className:this.props.mode==p.PANTRY?"navlink navlink-grocery navlink-selected":"navlink navlink-grocery"},"Groccery Management")),r.a.createElement(f.a,{as:b.a},r.a.createElement(f.a.Toggle,{as:b.a},r.a.createElement("img",{src:this.props.user.profileImageUrl,height:"40",width:"40"})),r.a.createElement(f.a.Menu,null,r.a.createElement(f.a.Item,{disabled:!0},"Logged In as ",this.props.user.displayName),r.a.createElement(f.a.Item,{onClick:this.props.showAbout},"About Recipe App"),r.a.createElement(f.a.Divider,null),r.a.createElement(f.a.Item,{onClick:function(){return e.props.changeMode(p.LOGIN)}},"Log Out"),"\xa0\xa0"))))}}]),t}(r.a.Component),g=a(21),w=a(4),v=a.n(w),y=a(14);function O(e,t){var a=e[0],n=e[1],r=e[2],o=e[3];a=N(a,n,r,o,t[0],7,-680876936),o=N(o,a,n,r,t[1],12,-389564586),r=N(r,o,a,n,t[2],17,606105819),n=N(n,r,o,a,t[3],22,-1044525330),a=N(a,n,r,o,t[4],7,-176418897),o=N(o,a,n,r,t[5],12,1200080426),r=N(r,o,a,n,t[6],17,-1473231341),n=N(n,r,o,a,t[7],22,-45705983),a=N(a,n,r,o,t[8],7,1770035416),o=N(o,a,n,r,t[9],12,-1958414417),r=N(r,o,a,n,t[10],17,-42063),n=N(n,r,o,a,t[11],22,-1990404162),a=N(a,n,r,o,t[12],7,1804603682),o=N(o,a,n,r,t[13],12,-40341101),r=N(r,o,a,n,t[14],17,-1502002290),a=A(a,n=N(n,r,o,a,t[15],22,1236535329),r,o,t[1],5,-165796510),o=A(o,a,n,r,t[6],9,-1069501632),r=A(r,o,a,n,t[11],14,643717713),n=A(n,r,o,a,t[0],20,-373897302),a=A(a,n,r,o,t[5],5,-701558691),o=A(o,a,n,r,t[10],9,38016083),r=A(r,o,a,n,t[15],14,-660478335),n=A(n,r,o,a,t[4],20,-405537848),a=A(a,n,r,o,t[9],5,568446438),o=A(o,a,n,r,t[14],9,-1019803690),r=A(r,o,a,n,t[3],14,-187363961),n=A(n,r,o,a,t[8],20,1163531501),a=A(a,n,r,o,t[13],5,-1444681467),o=A(o,a,n,r,t[2],9,-51403784),r=A(r,o,a,n,t[7],14,1735328473),a=S(a,n=A(n,r,o,a,t[12],20,-1926607734),r,o,t[5],4,-378558),o=S(o,a,n,r,t[8],11,-2022574463),r=S(r,o,a,n,t[11],16,1839030562),n=S(n,r,o,a,t[14],23,-35309556),a=S(a,n,r,o,t[1],4,-1530992060),o=S(o,a,n,r,t[4],11,1272893353),r=S(r,o,a,n,t[7],16,-155497632),n=S(n,r,o,a,t[10],23,-1094730640),a=S(a,n,r,o,t[13],4,681279174),o=S(o,a,n,r,t[0],11,-358537222),r=S(r,o,a,n,t[3],16,-722521979),n=S(n,r,o,a,t[6],23,76029189),a=S(a,n,r,o,t[9],4,-640364487),o=S(o,a,n,r,t[12],11,-421815835),r=S(r,o,a,n,t[15],16,530742520),a=R(a,n=S(n,r,o,a,t[2],23,-995338651),r,o,t[0],6,-198630844),o=R(o,a,n,r,t[7],10,1126891415),r=R(r,o,a,n,t[14],15,-1416354905),n=R(n,r,o,a,t[5],21,-57434055),a=R(a,n,r,o,t[12],6,1700485571),o=R(o,a,n,r,t[3],10,-1894986606),r=R(r,o,a,n,t[10],15,-1051523),n=R(n,r,o,a,t[1],21,-2054922799),a=R(a,n,r,o,t[8],6,1873313359),o=R(o,a,n,r,t[15],10,-30611744),r=R(r,o,a,n,t[6],15,-1560198380),n=R(n,r,o,a,t[13],21,1309151649),a=R(a,n,r,o,t[4],6,-145523070),o=R(o,a,n,r,t[11],10,-1120210379),r=R(r,o,a,n,t[2],15,718787259),n=R(n,r,o,a,t[9],21,-343485551),e[0]=B(a,e[0]),e[1]=B(n,e[1]),e[2]=B(r,e[2]),e[3]=B(o,e[3])}function k(e,t,a,n,r,o){return t=B(B(t,e),B(n,o)),B(t<<r|t>>>32-r,a)}function N(e,t,a,n,r,o,s){return k(t&a|~t&n,e,t,r,o,s)}function A(e,t,a,n,r,o,s){return k(t&n|a&~n,e,t,r,o,s)}function S(e,t,a,n,r,o,s){return k(t^a^n,e,t,r,o,s)}function R(e,t,a,n,r,o,s){return k(a^(t|~n),e,t,r,o,s)}function C(e){var t,a=[];for(t=0;t<64;t+=4)a[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return a}var I="0123456789abcdef".split("");function D(e){for(var t="",a=0;a<4;a++)t+=I[e>>8*a+4&15]+I[e>>8*a&15];return t}function P(e){return function(e){for(var t=0;t<e.length;t++)e[t]=D(e[t]);return e.join("")}(function(e){var t,a=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)O(n,C(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(O(n,r),t=0;t<16;t++)r[t]=0;return r[14]=8*a,O(n,r),n}(e))}function B(e,t){return e+t&4294967295}if("5d41402abc4b2a76b9719d911017c592"!=P("hello"));var j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleLogin=function(){a.setState({loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In"}),a.props.setUser({id:a.emailInputRef.current.value,username:a.emailInputRef.current.value,provider:"local",profileImageUrl:"https://www.gravatar.com/avatar/".concat(P(a.emailInputRef.current.value))}),a.props.setAuthenticated(!0),console.log(a.props.user.username),a.props.changeMode(p.Recipes)},a.handleLoginSubmit=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({loginBtnIcon:"fa fa-spin fa-spinner",loginBtnLabel:"Logging In..."}),n="/auth/login?username="+a.emailInputRef.current.value+"&password="+a.passwordInputRef.current.value,e.next=5,fetch(n,{method:"POST"});case 5:if(200!=(r=e.sent).status){e.next=10;break}window.open("/","_self"),e.next=14;break;case 10:return e.next=12,r.text();case 12:o=e.sent,a.setState({loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In",loginMsg:o},(function(){return setTimeout(a.hideErrorMsg,3e3)}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.hideErrorMsg=function(){a.emailInputRef.current.value="",a.passwordInputRef.current.value="",a.setState({loginMsg:""})},a.handleOAuthLogin=function(e){window.open("/auth/".concat(e),"_self")},a.handleOAuthLoginClick=function(e){var t;a.setState((t={},Object(g.a)(t,e+"Icon","fa fa-spin fa-spinner"),Object(g.a)(t,e+"Label","Connecting..."),t)),setTimeout((function(){return a.handleOAuthLogin(e)}),1e3)},a.checkAccountValidity=function(){a.state.accountPassword!=a.state.accountPasswordRepeat?a.repeatPassRef.current.setCustomValidity("This password must match original password."):a.repeatPassRef.current.setCustomValidity("")},a.handleNewAccountChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value),a.checkAccountValidity)},a.handleCreateAccount=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,r,o,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n="/users/"+a.state.accountName,r={password:a.state.accountPassword,securityQuestion:a.state.accountSecurityQuestion,securityAnswer:a.state.accountSecurityAnswer},e.next=5,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(r)});case 5:if(200!=(o=e.sent).status){e.next=11;break}alert("Your account was successfully created. Please log in using your email and password to continue."),a.setState({showAccountDialog:!1}),e.next=15;break;case 11:return e.next=13,o.text();case 13:s=e.sent,alert(s);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderAccountDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Create New Account"),r.a.createElement("button",{className:"close-modal-button",onClick:function(){a.setState({showAccountDialog:!1})}},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:a.handleCreateAccount},r.a.createElement("label",null,"Email:",r.a.createElement("input",{className:"form-control form-text",name:"accountName",type:"email",size:"35",placeholder:"Enter Email Address",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",ref:a.newUserRef,required:!0,value:a.state.accountName,onChange:a.handleNewAccountChange})),r.a.createElement("label",null,"Password:",r.a.createElement("input",{className:"form-control form-text",name:"accountPassword",type:"password",size:"35",placeholder:"Enter Password",pattern:"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$",required:!0,ref:a.repeatPassRef,value:a.state.accountPassword,onChange:a.handleNewAccountChange})),r.a.createElement("label",null,"Repeat Password:",r.a.createElement("input",{className:"form-control form-text",name:"accountPasswordRepeat",type:"password",size:"35",placeholder:"Repeat Password",required:!0,ref:a.repeatPassRef,value:a.state.accountPasswordRepeat,onChange:a.handleNewAccountChange})),r.a.createElement("label",null,"Security Question:",r.a.createElement("textarea",{className:"form-control form-text",name:"accountSecurityQuestion",size:"35",placeholder:"Security Question",rows:"2",cols:"35",maxLength:"100",required:!0,value:a.state.accountSecurityQuestion,onChange:a.handleNewAccountChange})),r.a.createElement("label",null,"Answer to Security Question:",r.a.createElement("textarea",{className:"form-control form-text",name:"accountSecurityAnswer",type:"text",placeholder:"Answer",rows:"2",cols:"35",maxLength:"100",required:!0,value:a.state.accountSecurityAnswer,onChange:a.handleNewAccountChange})),r.a.createElement("button",{role:"submit",className:"loginBtn btn btn-primary\r btn-block btncolortheme"},r.a.createElement("span",{className:"fa fa-user-plus"}),"\xa0Create Account"))))))},a.handleLookUpAccount=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n="/users/"+a.accountEmailRef.current.value,e.next=4,fetch(n,{method:"GET"});case 4:if(200==(r=e.sent).status){e.next=9;break}return alert("Sorry, there is no account associated with this email address."),a.accountEmailRef.current.focus(),e.abrupt("return");case 9:return e.next=11,r.json();case 11:o=e.sent,o=JSON.parse(o),alert("Body: "+o),a.setState({resetEmail:a.accountEmailRef.current.value,resetQuestion:o.securityQuestion,resetAnswer:o.securityAnswer,showLookUpAccountDialog:!1,showSecurityQuestionDialog:!0}),a.emailInputRef.current.value="";case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderLookUpAccountDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Look Up Account"),r.a.createElement("button",{className:"close-modal-button",onClick:function(){a.setState({showLookUpAccountDialog:!1})}},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:a.handleLookUpAccount},r.a.createElement("label",null,"Account Email Address:",r.a.createElement("input",{className:"form-control form-text",type:"email",size:"35",placeholder:"Enter Email Address",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",ref:a.accountEmailRef,required:!0})),r.a.createElement("button",{type:"submit",className:"loginBtn btn btn-primary\r btn-block btncolortheme"},r.a.createElement("span",{className:"fa fa-search"}),"\xa0Look Up Account"))))))},a.handleSecurityQuestionResponse=function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.securityAnswerRef.current.value==a.state.resetAnswer){e.next=5;break}return alert("Sorry, that is not the correct answer to the security question."),a.securityAnswerRef.current.select(),e.abrupt("return");case 5:a.setState({showSecurityQuestionDialog:!1,showPasswordResetDialog:!0}),a.securityAnswerRef.current.value="";case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderSecurityQuestionDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Answer Security Question"),r.a.createElement("button",{className:"close-modal-button",onClick:function(){a.setState({resetEmail:"",resetQuestion:"",resetAnswer:"",showSecurityQuestionDialog:!1})}},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:a.handleSecurityQuestionResponse},r.a.createElement("label",null,"Security Question:",r.a.createElement("textarea",{readOnly:!0,value:a.state.resetQuestion,className:"form-control form-text",rows:"3",cols:"35"})),r.a.createElement("label",null,"Security Answer:",r.a.createElement("textarea",{className:"form-control form-text",placeholder:"Enter Security Question Answer",ref:a.securityAnswerRef,rows:"3",cols:"35"})),r.a.createElement("p",null),r.a.createElement("button",{role:"submit",className:"loginBtn btn btn-primary btn-color-theme form-submit-btn"},r.a.createElement("span",{className:"fa fa-check"}),"\xa0Verify Answer"))))))},a.handleResetPassword=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,r,o,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.resetPasswordRef.current.value==a.resetPasswordRepeatRef.current.value){e.next=5;break}return alert("Sorry, The passwords you entered do not match. Please try again."),a.resetPasswordRepeatRef.current.select(),e.abrupt("return");case 5:return n="/users/"+a.state.resetEmail,r={password:a.resetPasswordRef.current.value},e.next=9,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(r)});case 9:return o=e.sent,e.next=12,o.text();case 12:s=e.sent,alert(s),a.resetPasswordRef.current.value="",a.resetPasswordRepeatRef.current.value="",a.setState({showPasswordResetDialog:!1});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderPasswordResetDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Reset Password"),r.a.createElement("button",{className:"close-modal-button",onClick:function(){a.setState({resetEmail:"",resetQuestion:"",resetAnswer:"",showPasswordResetDialog:!1})}},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:a.handleResetPassword},r.a.createElement("label",null,"New Password:",r.a.createElement("input",{type:"password",placeholder:"Enter new password",pattern:"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$",className:"form-control form-text",ref:a.resetPasswordRef})),"\xa0\xa0",r.a.createElement("label",null,"Repeat New Password:",r.a.createElement("input",{type:"password",placeholder:"Repeat new password",className:"form-control form-text",ref:a.resetPasswordRepeatRef})),"\xa0\xa0",r.a.createElement("button",{role:"submit",className:"loginBtn btn btn-primary\r btn-block btncolortheme"},r.a.createElement("span",{className:"fa fa-key"}),"\xa0Reset Password"))))))},a.emailInputRef=r.a.createRef(),a.passwordInputRef=r.a.createRef(),a.repeatPassRef=r.a.createRef(),a.newUserRef=r.a.createRef(),a.accountEmailRef=r.a.createRef(),a.securityAnswerRef=r.a.createRef(),a.resetPasswordRef=r.a.createRef(),a.resetPasswordRepeatRef=r.a.createRef(),a.state={loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In",googleIcon:"fa fa-google",googleLabel:"Sign in with Google",showAccountDialog:!1,showLookUpAccountDialog:!1,showSecurityQuestionDialog:!1,showPasswordResetDialog:!1,resetEmail:"",resetQuestion:"",resetAnswer:"",accountName:"",accountPassword:"",accountPasswordRepeat:"",accountSecurityQuestion:"",accountSecurityAnswer:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.emailInputRef.current.focus()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"login-mode-div",className:"padded-page"},r.a.createElement("center",null,r.a.createElement("form",{id:"loginForm",onSubmit:this.handleLoginSubmit},r.a.createElement("p",{className:"greeting"},"Welcome To Your Recipe App"),r.a.createElement("label",{htmlFor:"emailInput"},"Email:",r.a.createElement("input",{ref:this.emailInputRef,className:"form-control",type:"email",placeholder:"Enter Email Address",id:"emailInput",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",required:!0})),r.a.createElement("p",null),r.a.createElement("label",{htmlFor:"passwordInput"},"Password:",r.a.createElement("input",{ref:this.passwordInputRef,className:"form-control",type:"password",placeholder:"Enter Password",id:"passwordInput",pattern:"[A-Za-z0-9!@#$%^&*()_+\\-]+",required:!0})),r.a.createElement("p",{className:"login-error-msg-text"},this.state.loginMsg),r.a.createElement("button",{type:"submit",id:"loginBtn",className:"loginBtn btn btn-primary\r btn-block btncolortheme"},r.a.createElement("span",{id:"loginBtnIcon"}),"Log In"),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("button",{type:"button",className:"btn account-link",onClick:function(){e.setState({showAccountDialog:!0})}},"Create an account")," ","|",r.a.createElement("button",{type:"button",className:"btn account-link",onClick:function(){e.setState({showLookUpAccountDialog:!0})}},"Reset your password")),r.a.createElement("button",{type:"button",className:"loginBtn btn btn-primary\r btn-block btncolortheme",onClick:function(){return e.handleOAuthLoginClick("google")}},r.a.createElement("span",{className:this.state.googleIcon}),"\xa0",this.state.googleLabel)),this.state.showAccountDialog?this.renderAccountDialog():null,this.state.showLookUpAccountDialog?this.renderLookUpAccountDialog():null,this.state.showSecurityQuestionDialog?this.renderSecurityQuestionDialog():null,this.state.showPasswordResetDialog?this.renderPasswordResetDialog():null))}}]),t}(r.a.Component),x=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{className:"floatbtn",onClick:this.props.menuOpen?null:this.props.handleClick},r.a.createElement("span",{className:"floatbtn-icon "+this.props.icon})))}}]),t}(r.a.Component),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).editBook=function(e){a.props.setEditId(e),a.props.changeMode(p.BOOKS_EDITBOOK)},a.confirmDelete=function(e){a.props.setDeleteId(e),a.setState({confirmDelete:!0})},a.doDelete=function(){a.props.deleteBook(),a.setState({confirmDelete:!1})},a.cancelDelete=function(){a.props.setDeleteId(""),a.setState({confirmDelete:!1})},a.renderConfirmDeleteDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("p",{className:"modal-title"},"Confirm Book Deletion"),r.a.createElement("button",{className:"close-modal-button",onClick:a.cancelDelete},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("center",null,r.a.createElement("h4",null,"Are you sure that you want to delete this book?")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"loginBtn btn btn-primary btn-color-scheme",onClick:a.doDelete},"YES"),r.a.createElement("button",{className:"loginBtn btn btn-secondary",onClick:a.cancelDelete},"NO")))))},a.renderTable=function(){for(var e=[],t=function(t){e.push(r.a.createElement("tr",{key:t},r.a.createElement("td",null,a.props.books[t].bookName),r.a.createElement("td",null,a.props.books[t].author),r.a.createElement("td",null,a.props.books[t].genere),r.a.createElement("td",null,a.props.books[t].pages),r.a.createElement("td",null,r.a.createElement("button",{onClick:a.props.menuOpen?null:function(){return a.editBook(t)}},r.a.createElement("span",{className:"fa fa-binoculars"}))),r.a.createElement("td",null,r.a.createElement("button",{onClick:a.props.menuOpen?null:function(){return a.confirmDelete(t)}},r.a.createElement("span",{className:"fa fa-trash"})))))},n=0;n<a.props.books.length;++n)t(n);return e},a.state={confirmDelete:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"paddedPage"},r.a.createElement("center",null,r.a.createElement("h1",null,"Your Library")),r.a.createElement("table",{className:"table table-hover booksTable"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Author"),r.a.createElement("th",{scope:"col"},"Genere"),r.a.createElement("th",{scope:"col"},"Pages"),r.a.createElement("th",{scope:"col"},"View/Edit"),r.a.createElement("th",{scope:"col"},"Delete"))),r.a.createElement("tbody",null,0===Object.keys(this.props.books).length?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"6",style:{fontStyle:"italic"}},"No data recorded")):this.renderTable())),this.state.confirmDelete?this.renderConfirmDeleteDialog():null)}}]),t}(r.a.Component),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name;console.log("event.target.select"),console.log(e.target.select),a.setState(Object(g.a)({},t,e.target.value))},a.handleSubmit=function(e){a.setState({faIcon:"fa fa-spin fa-spinner",btnLabel:a.props.mode===p.BOOKS_ADDBOOK?"Saving...":"Updating..."});var t=a.state;delete t.faIcon,delete t.btnLabel,setTimeout(a.props.saveBook,1e3,t),e.preventDefault()},a.props.mode===p.BOOKS_ADDBOOK?a.state={bookName:"",author:"",genere:"Realistic Fiction",pages:null,faIcon:"fa fa-save",btnLabel:"Save Book Data"}:(a.state=a.props.startData,a.state.faIcon="fa fa-edit",a.state.btnLabel="Update Book Data"),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"paddedPage"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",null),r.a.createElement("center",null,r.a.createElement("label",{htmlFor:"bookName"},"Book Name:",r.a.createElement("input",{value:this.state.bookName,name:"bookName",id:"bookName",class:"form-control form-center ",type:"text",required:!0,onChange:this.handleChange})),"\xa0",r.a.createElement("label",{htmlFor:"author"},"Author:",r.a.createElement("input",{value:this.state.author,name:"author",id:"author",class:"form-control form-center ",type:"text",required:!0,onChange:this.handleChange})),"\xa0",r.a.createElement("label",{htmlFor:"genere"},"Genere:",r.a.createElement("select",{value:this.state.genere,name:"genere",id:"genere",class:"form-control form-center ",required:!0,onChange:this.handleChange},r.a.createElement("option",{value:"Realistic Fiction"},"Realistic Fiction"),r.a.createElement("option",{value:"Non Fiction"},"Non Fiction"),r.a.createElement("option",{value:"Mystery"},"Mystery"),r.a.createElement("option",{value:"Other"},"Other"))),"\xa0",r.a.createElement("label",{htmlFor:"numPages"},"Number of Pages:",r.a.createElement("input",{value:this.state.pages,name:"pages",ref:this.pagesRef,id:"numPages",class:"form-control form-center",type:"number",min:"1",max:"1000",required:!0,onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement("button",{id:"submitBookBtn",type:"submit",className:"loginBtn btn btn-primary\r btn-block btncolortheme",style:{width:"230px",fontSize:"20px",zindex:110}},r.a.createElement("span",{className:this.state.faIcon}),"\xa0",this.state.btnLabel))))}}]),t}(r.a.Component),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).fetchBooks=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),a.setDeleteId=function(e){a.setState({deleteId:e})},a.setEditId=function(e){a.setState({editId:e})},a.editBook=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/books/"+a.props.user.id+"/"+a.state.books[a.state.editId]._id,e.next=3,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)});case 3:return r=e.sent,e.next=6,r.text();case 6:o=e.sent,200!=r.status?alert("An error occurred when attempting to update a book in the database: "+o):a.fetchBooks();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteBook=Object(y.a)(v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/books/"+a.props.user.id+"/"+a.state.books[a.state.deleteId]._id,e.next=3,fetch(t,{method:"DELETE"});case 3:return n=e.sent,e.next=6,n.text();case 6:r=e.sent,200!=n.status?alert("An error occurred when attempting to delete book from database: "+r):a.fetchBooks();case 8:case"end":return e.stop()}}),e)}))),a.addBook=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/books/"+a.props.user.id,e.next=3,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)});case 3:return r=e.sent,e.next=6,r.text();case 6:o=e.sent,200!=r.status?alert("An error occurred when attempting to add new book to database: "+o):a.fetchBooks();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={books:[],deleteId:"",editId:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchBooks()}},{key:"render",value:function(){var e=this;switch(this.props.mode){case p.RECIPES:return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{books:this.state.books,setEditId:this.setEditId,setDeleteId:this.setDeleteId,deleteBook:this.deleteBook,changeMode:this.props.changeMode,menuOpen:this.props.menuOpen}),r.a.createElement(x,{handleClick:function(){return e.props.changeMode(p.BOOKS_ADDBOOK)},menuOpen:this.props.menuOpen,icon:"fa fa-plus"}));case p.BOOKS_ADDBOOK:return r.a.createElement(M,{mode:this.props.mode,saveBook:this.addBook});case p.BOOKS_EDITBOOK:return r.a.createElement(M,{mode:this.props.mode,startData:this.state.books[this.state.editId],saveBook:this.editBook})}}}]),t}(r.a.Component),Q=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"paddedPage center"},r.a.createElement("h1",{align:"center"},"Grocery Management"),r.a.createElement("center",null,r.a.createElement("h2",null,"This page is under construction. TODO: implement functionality"),r.a.createElement("i",{className:"fa fa-bacon reviewsIcon"}),r.a.createElement("br",null)))}}]),t}(r.a.Component),U={};U[p.LOGIN]="Welcome to Your Library",U[p.RECIPES]="Your Recipes",U[p.RECIPES_ADDBOOK]="Add New Recipe",U[p.RECIPES_EDITBOOK]="Edit Recipe",U[p.REVIEWS]="Reviews";var K={};K[p.LOGIN]=j,K[p.RECIPES]=T,K[p.RECIPES_ADDBOOK]=T,K[p.RECIPES_EDITBOOK]=T,K[p.PANTRY]=Q;var _=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChangeMode=function(e){n.setState({mode:e})},n.openMenu=function(){n.setState({menuOpen:!0})},n.closeMenu=function(){n.setState({menuOpen:!1})},n.toggleMenuOpen=function(){n.setState((function(e){return{menuOpen:!e.menuOpen}}))},n.setUser=function(e){n.setState({user:e})},n.setAuthenticated=function(e){n.setState({authenticated:e})},n.handleClick=function(e){n.state.menuOpen&&n.closeMenu(),e.stopPropagation()},n.toggleAbout=function(){n.setState((function(e){return{showAbout:!e.showAbout}}))},n.renderAbout=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"About Your Recipe App"),r.a.createElement("button",{className:"close-modal-button",onClick:n.toggleAbout},"\xd7"))),r.a.createElement("div",{className:"modal-body "},r.a.createElement("center",null,r.a.createElement("img",{src:a(57),height:"280px",width:"370px",className:"aboutBody"}),r.a.createElement("h3",null,"Build Your Own Personal Library!"),r.a.createElement("p",null,r.a.createElement("em",null,"Version 1 (Live), Build 20.6.2018 ",r.a.createElement("br",null),"\xa9 2020 Madeline Anderson. All rights reserved."))),r.a.createElement("p",null,r.a.createElement("b",null,"Your Library app supports")),r.a.createElement("ul",{className:"yourRecipesSupports"},r.a.createElement("li",null,"Adding and removing RECIPES in your personal library"),r.a.createElement("li",null,"Viewing your library")),r.a.createElement("p",null,"Your Library was first developed by Madeline Anderson, a Computer Science Major at Washington State University. She is currently a Junior, Developing this for CptS 489. She is an intern at SEL in Pullman.")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"loginBtn btn btn-primary btn-color-theme",onClick:n.toggleAbout},"OK")))))},n.state={mode:p.LOGIN,menuOpen:!1,user:"",showAbout:!1,authenticated:!1},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("click",this.handleClick),this.state.authenticated||fetch("/auth/test").then((function(e){return e.json()})).then((function(t){if(t.isAuthenticated){var a=JSON.parse(localStorage.getItem("yourRecipeUserData"));null==a&&(a={}),a.hasOwnProperty(t.user.id)||(a[t.user.id]={accountInfo:{provider:t.user.provider,password:"",securityQuestion:"",securityAnswer:""},Recipes:{}},localStorage.setItem("yourLibraryUserData",JSON.stringify(a))),e.setState({authenticated:!0,user:t.user,mode:p.RECIPES})}}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=K[this.state.mode];return r.a.createElement("div",{onClick:this.handleClick},this.state.mode!=p.LOGIN&&r.a.createElement(E,{title:U[this.state.mode],mode:this.state.mode,changeMode:this.handleChangeMode,user:this.state.user,menuOpen:this.state.menuOpen,toggleMenuOpen:this.toggleMenuOpen,showAbout:this.toggleAbout}),r.a.createElement(e,{menuOpen:this.state.menuOpen,mode:this.state.mode,changeMode:this.handleChangeMode,setAuthenticated:this.setAuthenticated,user:this.state.user,setUser:this.setUser}),this.state.showAbout?this.renderAbout():null)}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(58);s.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.6ffe5db0.chunk.js.map