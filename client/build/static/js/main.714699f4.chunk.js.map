{"version":3,"sources":["components/books.jpg","AppMode.js","components/NavBar.js","components/SideMenu.js","components/ModeBar.js","md5.js","components/LoginPage.js","components/FloatingButton.js","components/RecipesTable.js","components/RecipeForm.js","components/Recipes.js","components/PantryPage.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","AppMode","LOGIN","RECIPES","RECIPES_ADDRECIPE","RECIPES_EDITRECIPE","PANTRY","Object","freeze","NavBar","handleMenuBtnClick","props","mode","BOOKS_ADDBOOK","BOOKS_EDITBOOK","changeMode","BOOKS","toggleMenuOpen","getMenuBtnIcon","menuOpen","className","onClick","this","id","title","React","Component","SideMenu","renderModeMenuItems","REVIEWS","src","user","profileImageUrl","height","width","displayName","userId","showAbout","ModeBar","handleModeBtnClick","newMode","md5cycle","x","k","a","b","c","d","ff","gg","hh","ii","add32","cmn","q","s","t","md5blk","i","md5blks","charCodeAt","hex_chr","split","rhex","n","j","md5","length","join","hex","state","substring","tail","md51","LoginPage","handleLogin","setState","loginBtnIcon","loginBtnLabel","setUser","emailInputRef","current","value","username","provider","setAuthenticated","console","log","Recipes","handleLoginSubmit","event","preventDefault","url","passwordInputRef","fetch","method","res","status","window","open","text","resText","loginMsg","setTimeout","hideErrorMsg","handleOAuthLogin","handleOAuthLoginClick","checkAccountValidity","accountPassword","accountPasswordRepeat","repeatPassRef","setCustomValidity","handleNewAccountChange","target","name","handleCreateAccount","loginInfo","accountName","password","securityQuestion","accountSecurityQuestion","securityAnswer","accountSecurityAnswer","headers","Accept","body","JSON","stringify","alert","showAccountDialog","renderAccountDialog","role","onSubmit","type","size","placeholder","pattern","ref","newUserRef","required","onChange","rows","cols","maxLength","handleLookUpAccount","accountEmailRef","focus","json","result","select","question","resetEmail","resetQuestion","showLookUpAccountDialog","showSecurityQuestionDialog","renderLookUpAccountDialog","handleSecurityQuestionResponse","securityAnswerRef","resetAnswer","showPasswordResetDialog","renderSecurityQuestionDialog","readOnly","handleResetPassword","resetPasswordRef","resetPasswordRepeatRef","resetInfo","answer","newPassword","renderPasswordResetDialog","createRef","googleIcon","googleLabel","htmlFor","FloatingButton","handleClick","icon","RecipesTable","editBook","setEditId","confirmDelete","setDeleteId","doDelete","deleteBook","cancelDelete","renderConfirmDeleteDialog","renderTable","table","push","key","books","bookName","author","genere","pages","scope","keys","colSpan","style","fontStyle","RecipeForm","handleChange","handleSubmit","faIcon","btnLabel","bookData","saveBook","startData","class","pagesRef","min","max","fontSize","zindex","fetchBooks","val","deleteId","editId","newData","_id","msg","addBook","Fragment","PantryPage","align","modeTitle","RECIPES_ADDBOOK","RECIPES_EDITBOOK","modeToPage","App","handleChangeMode","openMenu","closeMenu","prevState","userObj","auth","authenticated","stopPropagation","toggleAbout","renderAbout","require","addEventListener","then","response","obj","isAuthenticated","data","parse","localStorage","getItem","hasOwnProperty","accountInfo","setItem","removeEventListener","ModePage","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.714699f4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/books.26746953.jpg\";","/* AppMode: The enumerated type for AppMode. If we were using TypeScript, we could\r\nuse the predefined enum type; see\r\nhttps://www.typescriptlang.org/docs/handbook/enums.html. Declaring an enumerated\r\ntype as a JavaScript object has important limitations (see\r\nhttps://stackoverflow.com/questions/287903/what-is-the-preferred-syntax-for-defining-enums-in-javascript),\r\nbut it will do for our purposes*/\r\n\r\nconst AppMode = {\r\n    LOGIN: \"LoginMode\",\r\n    RECIPES: \"RecipeMode\",\r\n    RECIPES_ADDRECIPE: \"RecipeMode-AddRecipe\",\r\n    RECIPES_EDITRECIPE: \"RecipeMode-EditRecipe\",\r\n    PANTRY: \"PantryMode\"\r\n};\r\n\r\nObject.freeze(AppMode); //This ensures that the object is immutable.\r\n\r\nexport default AppMode;","import React from \"react\";\r\nimport AppMode from \"../AppMode.js\";\r\n\r\nclass NavBar extends React.Component {\r\n  handleMenuBtnClick = () => {\r\n    if (\r\n      this.props.mode === AppMode.BOOKS_ADDBOOK ||\r\n      this.props.mode === AppMode.BOOKS_EDITBOOK\r\n    ) {\r\n      this.props.changeMode(AppMode.BOOKS);\r\n    } else if (this.props.mode != AppMode.LOGIN) {\r\n      this.props.toggleMenuOpen();\r\n    }\r\n  };\r\n\r\n  getMenuBtnIcon = () => {\r\n    if (\r\n      this.props.mode === AppMode.BOOKS_ADDBOOK ||\r\n      this.props.mode === AppMode.BOOKS_EDITBOOK\r\n    )\r\n      return \"fa fa-arrow-left\";\r\n    if (this.props.menuOpen) return \"fa fa-times\";\r\n    return \"fa fa-bars\";\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"navbar\">\r\n        <span className=\"navbar-items\">\r\n          <button className=\"sidemenu-btn\" onClick={this.handleMenuBtnClick}>\r\n            <span\r\n              id=\"sidemenu-btn-icon\"\r\n              className={\"sidemenu-btn-icon \" + this.getMenuBtnIcon()}\r\n            ></span>\r\n          </button>\r\n          &nbsp;<i className=\"fa fa-book bookIcon\"></i>&nbsp;\r\n          <span id=\"topBarTitle\" className=\"navbar-title\">\r\n            &nbsp;{this.props.title}\r\n          </span>\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport AppMode from \"../AppMode.js\";\r\n\r\nclass SideMenu extends React.Component {\r\n  //renderModeItems -- Renders correct subset of mode menu items based on\r\n  //current mode, which is stored in this.prop.mode. Uses switch statement to\r\n  //determine mode.\r\n  renderModeMenuItems = () => {\r\n    switch (this.props.mode) {\r\n      case AppMode.BOOKS:\r\n        return (\r\n          <div>\r\n            <a\r\n              className=\"sidemenu-item\"\r\n              onClick={() => this.props.changeMode(AppMode.BOOKS_ADDBOOK)}\r\n            >\r\n              <span className=\"fa fa-plus\"></span>&nbsp;Add Book\r\n            </a>\r\n          </div>\r\n        );\r\n        break;\r\n      case AppMode.REVIEWS:\r\n        return <div></div>;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={\r\n          \"sidemenu \" +\r\n          (this.props.menuOpen ? \"sidemenu-open\" : \"sidemenu-closed\")\r\n        }\r\n      >\r\n        {/* SIDE MENU TITLE */}\r\n        <div className=\"sidemenu-title\">\r\n          <div className=\"sidemenu-title\">\r\n            <img src={this.props.user.profileImageUrl} height=\"50\" width=\"50\" />\r\n            <span className=\"sidemenu-userID\">\r\n              &nbsp;{this.props.user.displayName}\r\n            </span>\r\n          </div>\r\n          <span className=\"sidemenu-userID\">&nbsp;{this.props.userId}</span>\r\n        </div>\r\n        {/* MENU CONTENT */}\r\n        {/*Mode-based menu items */}\r\n        {this.renderModeMenuItems()}\r\n        {/* Always-there menu items */}\r\n        <a className=\"sidemenu-item\" onClick={this.props.showAbout}>\r\n          <span className=\"fa fa-info-circle\"></span>&nbsp;About\r\n        </a>\r\n        <a\r\n          className=\"sidemenu-item\"\r\n          onClick={() => this.props.changeMode(AppMode.LOGIN)}\r\n        >\r\n          <span className=\"fa fa-sign-out\"></span>&nbsp;Log Out\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SideMenu;\r\n","import React from \"react\";\r\nimport AppMode from \"../AppMode.js\";\r\n\r\nclass ModeBar extends React.Component {\r\n  handleModeBtnClick = newMode => {\r\n    if (this.props.mode != newMode) {\r\n      this.props.changeMode(newMode);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={\r\n          \"modebar\" +\r\n          (this.props.mode === AppMode.LOGIN ? \" invisible\" : \" visible\") +\r\n          (this.props.mode === AppMode.BOOKS_ADDBOOK ||\r\n          this.props.mode === AppMode.BOOKS_EDITBOOK\r\n            ? \" disabledButton\"\r\n            : \"\")\r\n        }\r\n        id=\"bottomBar\"\r\n      >\r\n        <a\r\n          className={\r\n            \"modebar-btn\" +\r\n            (this.props.mode === AppMode.BOOKS ? \" modebar-item-selected\" : \"\")\r\n          }\r\n          onClick={\r\n            this.props.menuOpen\r\n              ? null\r\n              : () => this.handleModeBtnClick(AppMode.BOOKS)\r\n          }\r\n        >\r\n          <span className=\"modebar-icon fa fa-th-list\"></span>\r\n          <span className=\"modebar-text\">Books</span>\r\n        </a>\r\n        <a\r\n          className={\r\n            \"modebar-btn\" +\r\n            (this.props.mode === AppMode.REVIEWS\r\n              ? \" modebar-item-selected\"\r\n              : \"\")\r\n          }\r\n          onClick={\r\n            this.props.menuOpen\r\n              ? null\r\n              : () => this.handleModeBtnClick(AppMode.REVIEWS)\r\n          }\r\n        >\r\n          <span className=\"modebar-icon fa fa-book\"></span>\r\n          <span className=\"modebar-text\">Reviews</span>\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ModeBar;\r\n","function md5cycle(x, k) {\r\n    var a = x[0], b = x[1], c = x[2], d = x[3];\r\n    \r\n    a = ff(a, b, c, d, k[0], 7, -680876936);\r\n    d = ff(d, a, b, c, k[1], 12, -389564586);\r\n    c = ff(c, d, a, b, k[2], 17,  606105819);\r\n    b = ff(b, c, d, a, k[3], 22, -1044525330);\r\n    a = ff(a, b, c, d, k[4], 7, -176418897);\r\n    d = ff(d, a, b, c, k[5], 12,  1200080426);\r\n    c = ff(c, d, a, b, k[6], 17, -1473231341);\r\n    b = ff(b, c, d, a, k[7], 22, -45705983);\r\n    a = ff(a, b, c, d, k[8], 7,  1770035416);\r\n    d = ff(d, a, b, c, k[9], 12, -1958414417);\r\n    c = ff(c, d, a, b, k[10], 17, -42063);\r\n    b = ff(b, c, d, a, k[11], 22, -1990404162);\r\n    a = ff(a, b, c, d, k[12], 7,  1804603682);\r\n    d = ff(d, a, b, c, k[13], 12, -40341101);\r\n    c = ff(c, d, a, b, k[14], 17, -1502002290);\r\n    b = ff(b, c, d, a, k[15], 22,  1236535329);\r\n    \r\n    a = gg(a, b, c, d, k[1], 5, -165796510);\r\n    d = gg(d, a, b, c, k[6], 9, -1069501632);\r\n    c = gg(c, d, a, b, k[11], 14,  643717713);\r\n    b = gg(b, c, d, a, k[0], 20, -373897302);\r\n    a = gg(a, b, c, d, k[5], 5, -701558691);\r\n    d = gg(d, a, b, c, k[10], 9,  38016083);\r\n    c = gg(c, d, a, b, k[15], 14, -660478335);\r\n    b = gg(b, c, d, a, k[4], 20, -405537848);\r\n    a = gg(a, b, c, d, k[9], 5,  568446438);\r\n    d = gg(d, a, b, c, k[14], 9, -1019803690);\r\n    c = gg(c, d, a, b, k[3], 14, -187363961);\r\n    b = gg(b, c, d, a, k[8], 20,  1163531501);\r\n    a = gg(a, b, c, d, k[13], 5, -1444681467);\r\n    d = gg(d, a, b, c, k[2], 9, -51403784);\r\n    c = gg(c, d, a, b, k[7], 14,  1735328473);\r\n    b = gg(b, c, d, a, k[12], 20, -1926607734);\r\n    \r\n    a = hh(a, b, c, d, k[5], 4, -378558);\r\n    d = hh(d, a, b, c, k[8], 11, -2022574463);\r\n    c = hh(c, d, a, b, k[11], 16,  1839030562);\r\n    b = hh(b, c, d, a, k[14], 23, -35309556);\r\n    a = hh(a, b, c, d, k[1], 4, -1530992060);\r\n    d = hh(d, a, b, c, k[4], 11,  1272893353);\r\n    c = hh(c, d, a, b, k[7], 16, -155497632);\r\n    b = hh(b, c, d, a, k[10], 23, -1094730640);\r\n    a = hh(a, b, c, d, k[13], 4,  681279174);\r\n    d = hh(d, a, b, c, k[0], 11, -358537222);\r\n    c = hh(c, d, a, b, k[3], 16, -722521979);\r\n    b = hh(b, c, d, a, k[6], 23,  76029189);\r\n    a = hh(a, b, c, d, k[9], 4, -640364487);\r\n    d = hh(d, a, b, c, k[12], 11, -421815835);\r\n    c = hh(c, d, a, b, k[15], 16,  530742520);\r\n    b = hh(b, c, d, a, k[2], 23, -995338651);\r\n    \r\n    a = ii(a, b, c, d, k[0], 6, -198630844);\r\n    d = ii(d, a, b, c, k[7], 10,  1126891415);\r\n    c = ii(c, d, a, b, k[14], 15, -1416354905);\r\n    b = ii(b, c, d, a, k[5], 21, -57434055);\r\n    a = ii(a, b, c, d, k[12], 6,  1700485571);\r\n    d = ii(d, a, b, c, k[3], 10, -1894986606);\r\n    c = ii(c, d, a, b, k[10], 15, -1051523);\r\n    b = ii(b, c, d, a, k[1], 21, -2054922799);\r\n    a = ii(a, b, c, d, k[8], 6,  1873313359);\r\n    d = ii(d, a, b, c, k[15], 10, -30611744);\r\n    c = ii(c, d, a, b, k[6], 15, -1560198380);\r\n    b = ii(b, c, d, a, k[13], 21,  1309151649);\r\n    a = ii(a, b, c, d, k[4], 6, -145523070);\r\n    d = ii(d, a, b, c, k[11], 10, -1120210379);\r\n    c = ii(c, d, a, b, k[2], 15,  718787259);\r\n    b = ii(b, c, d, a, k[9], 21, -343485551);\r\n    \r\n    x[0] = add32(a, x[0]);\r\n    x[1] = add32(b, x[1]);\r\n    x[2] = add32(c, x[2]);\r\n    x[3] = add32(d, x[3]);\r\n    \r\n    }\r\n    \r\n    function cmn(q, a, b, x, s, t) {\r\n    a = add32(add32(a, q), add32(x, t));\r\n    return add32((a << s) | (a >>> (32 - s)), b);\r\n    }\r\n    \r\n    function ff(a, b, c, d, x, s, t) {\r\n    return cmn((b & c) | ((~b) & d), a, b, x, s, t);\r\n    }\r\n    \r\n    function gg(a, b, c, d, x, s, t) {\r\n    return cmn((b & d) | (c & (~d)), a, b, x, s, t);\r\n    }\r\n    \r\n    function hh(a, b, c, d, x, s, t) {\r\n    return cmn(b ^ c ^ d, a, b, x, s, t);\r\n    }\r\n    \r\n    function ii(a, b, c, d, x, s, t) {\r\n    return cmn(c ^ (b | (~d)), a, b, x, s, t);\r\n    }\r\n    \r\n    function md51(s) {\r\n    var txt = '';\r\n    var n = s.length,\r\n    state = [1732584193, -271733879, -1732584194, 271733878], i;\r\n    for (i=64; i<=s.length; i+=64) {\r\n    md5cycle(state, md5blk(s.substring(i-64, i)));\r\n    }\r\n    s = s.substring(i-64);\r\n    var tail = [0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0];\r\n    for (i=0; i<s.length; i++)\r\n    tail[i>>2] |= s.charCodeAt(i) << ((i%4) << 3);\r\n    tail[i>>2] |= 0x80 << ((i%4) << 3);\r\n    if (i > 55) {\r\n    md5cycle(state, tail);\r\n    for (i=0; i<16; i++) tail[i] = 0;\r\n    }\r\n    tail[14] = n*8;\r\n    md5cycle(state, tail);\r\n    return state;\r\n    }\r\n    \r\n    /* there needs to be support for Unicode here,\r\n     * unless we pretend that we can redefine the MD-5\r\n     * algorithm for multi-byte characters (perhaps\r\n     * by adding every four 16-bit characters and\r\n     * shortening the sum to 32 bits). Otherwise\r\n     * I suggest performing MD-5 as if every character\r\n     * was two bytes--e.g., 0040 0025 = @%--but then\r\n     * how will an ordinary MD-5 sum be matched?\r\n     * There is no way to standardize text to something\r\n     * like UTF-8 before transformation; speed cost is\r\n     * utterly prohibitive. The JavaScript standard\r\n     * itself needs to look at this: it should start\r\n     * providing access to strings as preformed UTF-8\r\n     * 8-bit unsigned value arrays.\r\n     */\r\n    function md5blk(s) { /* I figured global was faster.   */\r\n    var md5blks = [], i; /* Andy King said do it this way. */\r\n    for (i=0; i<64; i+=4) {\r\n    md5blks[i>>2] = s.charCodeAt(i)\r\n    + (s.charCodeAt(i+1) << 8)\r\n    + (s.charCodeAt(i+2) << 16)\r\n    + (s.charCodeAt(i+3) << 24);\r\n    }\r\n    return md5blks;\r\n    }\r\n    \r\n    var hex_chr = '0123456789abcdef'.split('');\r\n    \r\n    function rhex(n)\r\n    {\r\n    var s='', j=0;\r\n    for(; j<4; j++)\r\n    s += hex_chr[(n >> (j * 8 + 4)) & 0x0F]\r\n    + hex_chr[(n >> (j * 8)) & 0x0F];\r\n    return s;\r\n    }\r\n    \r\n    function hex(x) {\r\n    for (var i=0; i<x.length; i++)\r\n    x[i] = rhex(x[i]);\r\n    return x.join('');\r\n    }\r\n    \r\n    export default function md5(s) {\r\n      return hex(md51(s));\r\n    }\r\n    \r\n    /* this function is much faster,\r\n    so if possible we use it. Some IEs\r\n    are the only ones I know of that\r\n    need the idiotic second function,\r\n    generated by an if clause.  */\r\n    \r\n    function add32(a, b) {\r\n    return (a + b) & 0xFFFFFFFF;\r\n    }\r\n    \r\n    if (md5('hello') != '5d41402abc4b2a76b9719d911017c592') {\r\n    function add32(x, y) {\r\n    var lsw = (x & 0xFFFF) + (y & 0xFFFF),\r\n    msw = (x >> 16) + (y >> 16) + (lsw >> 16);\r\n    return (msw << 16) | (lsw & 0xFFFF);\r\n    }\r\n    }","import React from \"react\";\r\nimport AppMode from \"./../AppMode.js\";\r\nimport md5 from \"../md5.js\";\r\n\r\nclass LoginPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Create a ref for the email input DOM element\r\n    this.emailInputRef = React.createRef();\r\n    this.passwordInputRef = React.createRef();\r\n    this.repeatPassRef = React.createRef();\r\n    this.newUserRef = React.createRef();\r\n    this.accountEmailRef = React.createRef();\r\n    this.securityAnswerRef = React.createRef();\r\n    this.resetPasswordRef = React.createRef();\r\n    this.resetPasswordRepeatRef = React.createRef();\r\n    this.state = {\r\n      loginBtnIcon: \"fa fa-sign-in\",\r\n      loginBtnLabel: \"Log In\",\r\n      googleIcon: \"fa fa-google\",\r\n      googleLabel: \"Sign in with Google\",\r\n      showAccountDialog: false,\r\n      showLookUpAccountDialog: false,\r\n      showSecurityQuestionDialog: false,\r\n      showPasswordResetDialog: false,\r\n      resetEmail: \"\",\r\n      resetQuestion: \"\",\r\n      resetAnswer: \"\",\r\n      accountName: \"\",\r\n      accountPassword: \"\",\r\n      accountPasswordRepeat: \"\",\r\n      accountSecurityQuestion: \"\",\r\n      accountSecurityAnswer: \"\"\r\n    };\r\n  }\r\n\r\n  //Focus cursor in email input field when mounted\r\n  componentDidMount() {\r\n    this.emailInputRef.current.focus();\r\n  }\r\n\r\n  //handleLogin -- Callback function that sets up initial app state upon login.\r\n  handleLogin = () => {\r\n    //Stop spinner and set authStrategy to local\r\n    this.setState({ loginBtnIcon: \"fa fa-sign-in\", loginBtnLabel: \"Log In\" });\r\n    //Set current user in parent component\r\n    //With local authentication all we have is an email\r\n    //address; we do not have additional info\r\n    //We'll grab profile pic from the gravatar service. User can create account\r\n    //at http://gravatar.com and define their profile pic.\r\n    this.props.setUser({\r\n      id: this.emailInputRef.current.value,\r\n      username: this.emailInputRef.current.value,\r\n      provider: \"local\",\r\n      profileImageUrl: `https://www.gravatar.com/avatar/${md5(\r\n        this.emailInputRef.current.value\r\n      )}`\r\n    });\r\n    //Set authenticated state in parent component\r\n    this.props.setAuthenticated(true);\r\n    console.log(this.props.user.username);\r\n    //Trigger switch to FEED mode (default app landing page)\r\n    this.props.changeMode(AppMode.Recipes);\r\n  };\r\n\r\n  //handleLoginSubmit -- Called when user clicks on login button. Initiate spinner\r\n  //for 1 second and call handleLogin to do the work.\r\n  handleLoginSubmit = async event => {\r\n    event.preventDefault();\r\n    this.setState({\r\n      loginBtnIcon: \"fa fa-spin fa-spinner\",\r\n      loginBtnLabel: \"Logging In...\"\r\n    });\r\n\r\n    const url =\r\n      \"/login?username=\" +\r\n      this.emailInputRef.current.value +\r\n      \"&password=\" +\r\n      this.passwordInputRef.current.value;\r\n    const res = await fetch(url, { method: \"POST\" });\r\n    if (res.status == 200) {\r\n      //successful login!\r\n      //Force componentDidMount to execute.\r\n      //authenticated state will be updated and\r\n      //Session will be deserialized.\r\n      window.open(\"/\", \"_self\");\r\n    } else {\r\n      //Unsuccessful login\r\n      //Grab textual error message\r\n      const resText = await res.text();\r\n      //Display error message for 3 seconds and invite another login attempt\r\n      this.setState(\r\n        {\r\n          loginBtnIcon: \"fa fa-sign-in\",\r\n          loginBtnLabel: \"Log In\",\r\n          loginMsg: resText\r\n        },\r\n        () => setTimeout(this.hideErrorMsg, 3000)\r\n      );\r\n    }\r\n  };\r\n\r\n  hideErrorMsg = () => {\r\n    this.emailInputRef.current.value = \"\";\r\n    this.passwordInputRef.current.value = \"\";\r\n    this.setState({ loginMsg: \"\" });\r\n  };\r\n\r\n  //handleOAuthLogin -- Callback function that initiates contact with OAuth\r\n  //provider\r\n\r\n  handleOAuthLogin = provider => {\r\n    window.open(`/auth/${provider}`, \"_self\");\r\n  };\r\n\r\n  //handleOAuthLoginClick -- Called whent the user clicks on button to\r\n  //authenticate via a third-party OAuth service. The name of the provider is\r\n  //passed in as a parameter.\r\n\r\n  handleOAuthLoginClick = provider => {\r\n    this.setState({\r\n      [provider + \"Icon\"]: \"fa fa-spin fa-spinner\",\r\n\r\n      [provider + \"Label\"]: \"Connecting...\"\r\n    });\r\n\r\n    setTimeout(() => this.handleOAuthLogin(provider), 1000);\r\n  };\r\n\r\n  //checkAccountValidity -- Callback function invoked after a form element in\r\n  //the 'Create Account' dialog box changes and component state has been\r\n  //updated. We need to check whether the passwords match and whether an\r\n  //account is already associated with the email address entered. If so, we\r\n  //set a custom validity message to be displayed when the user clicks the\r\n  //'Create Account' button. Otherwise, we reset the custom validity message\r\n  //to empty so that it will NOT fire when the user clicks 'Create Account'.\r\n  checkAccountValidity = () => {\r\n    if (this.state.accountPassword != this.state.accountPasswordRepeat) {\r\n      //Passwords don't match\r\n      this.repeatPassRef.current.setCustomValidity(\r\n        \"This password must match original password.\"\r\n      );\r\n    } else {\r\n      this.repeatPassRef.current.setCustomValidity(\"\");\r\n    }\r\n    // let data = JSON.parse(localStorage.getItem(\"yourLibraryUserData\"));\r\n    // if (data != null && data.hasOwnProperty(this.state.accountName)) {\r\n    //   //The user name is already taken\r\n    //   this.newUserRef.current.setCustomValidity(\r\n    //     \"An account already exists under this email address. Use 'Reset password' to recover the password.\"\r\n    //   );\r\n    // } else {\r\n    //   this.newUserRef.current.setCustomValidity(\"\");\r\n    // }\r\n  };\r\n\r\n  //handleNewAccountChange -- Called when a field in a dialog box form changes.\r\n  //Update corresponding state variable and potentially update the custom\r\n  //message.\r\n  handleNewAccountChange = event => {\r\n    this.setState(\r\n      { [event.target.name]: event.target.value },\r\n      this.checkAccountValidity\r\n    );\r\n  };\r\n\r\n  handleCreateAccount = async event => {\r\n    event.preventDefault();\r\n    const loginInfo = {\r\n      userId: this.state.accountName,\r\n      password: this.state.accountPassword,\r\n      securityQuestion: this.state.accountSecurityQuestion,\r\n      securityAnswer: this.state.accountSecurityAnswer\r\n    };\r\n    const res = await fetch(\"/newaccount\", {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      method: \"POST\",\r\n      body: JSON.stringify(loginInfo)\r\n    });\r\n    if (res.status == 200) {\r\n      //successful account creation!\r\n      alert(\r\n        \"Your account was successfully created. Please log in using your email and password to continue.\"\r\n      );\r\n      this.setState({ showAccountDialog: false });\r\n    } else {\r\n      //Unsuccessful account creation\r\n      //Grab textual error message\r\n      const resText = await res.text();\r\n      alert(resText); //most likely the username is already taken\r\n    }\r\n  };\r\n\r\n  renderAccountDialog = () => {\r\n    return (\r\n      <div className=\"modal\" role=\"dialog\">\r\n        <div className=\"modal-dialog modal-lg\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h3 className=\"modal-title\">\r\n                <b>Create New Account</b>\r\n                <button\r\n                  className=\"close-modal-button\"\r\n                  onClick={() => {\r\n                    this.setState({ showAccountDialog: false });\r\n                  }}\r\n                >\r\n                  &times;\r\n                </button>\r\n              </h3>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <form onSubmit={this.handleCreateAccount}>\r\n                <label>\r\n                  Email:\r\n                  <input\r\n                    className=\"form-control form-text\"\r\n                    name=\"accountName\"\r\n                    type=\"email\"\r\n                    size=\"35\"\r\n                    placeholder=\"Enter Email Address\"\r\n                    pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n                    ref={this.newUserRef}\r\n                    required={true}\r\n                    value={this.state.accountName}\r\n                    onChange={this.handleNewAccountChange}\r\n                  />\r\n                </label>\r\n\r\n                <label>\r\n                  Password:\r\n                  <input\r\n                    className=\"form-control form-text\"\r\n                    name=\"accountPassword\"\r\n                    type=\"password\"\r\n                    size=\"35\"\r\n                    placeholder=\"Enter Password\"\r\n                    pattern=\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n                    required={true}\r\n                    ref={this.repeatPassRef}\r\n                    value={this.state.accountPassword}\r\n                    onChange={this.handleNewAccountChange}\r\n                  />\r\n                </label>\r\n\r\n                <label>\r\n                  Repeat Password:\r\n                  <input\r\n                    className=\"form-control form-text\"\r\n                    name=\"accountPasswordRepeat\"\r\n                    type=\"password\"\r\n                    size=\"35\"\r\n                    placeholder=\"Repeat Password\"\r\n                    required={true}\r\n                    ref={this.repeatPassRef}\r\n                    value={this.state.accountPasswordRepeat}\r\n                    onChange={this.handleNewAccountChange}\r\n                  />\r\n                </label>\r\n\r\n                <label>\r\n                  Security Question:\r\n                  <textarea\r\n                    className=\"form-control form-text\"\r\n                    name=\"accountSecurityQuestion\"\r\n                    size=\"35\"\r\n                    placeholder=\"Security Question\"\r\n                    rows=\"2\"\r\n                    cols=\"35\"\r\n                    maxLength=\"100\"\r\n                    required={true}\r\n                    value={this.state.accountSecurityQuestion}\r\n                    onChange={this.handleNewAccountChange}\r\n                  />\r\n                </label>\r\n                <label>\r\n                  Answer to Security Question:\r\n                  <textarea\r\n                    className=\"form-control form-text\"\r\n                    name=\"accountSecurityAnswer\"\r\n                    type=\"text\"\r\n                    placeholder=\"Answer\"\r\n                    rows=\"2\"\r\n                    cols=\"35\"\r\n                    maxLength=\"100\"\r\n                    required={true}\r\n                    value={this.state.accountSecurityAnswer}\r\n                    onChange={this.handleNewAccountChange}\r\n                  />\r\n                </label>\r\n                <button\r\n                  role=\"submit\"\r\n                  className=\"loginBtn btn btn-primary\r\n                  btn-block btncolortheme\"\r\n                >\r\n                  <span className=\"fa fa-user-plus\"></span>&nbsp;Create Account\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  //handleLookUpAccount: When the user clicks on the \"Look Up Account\" dialog box\r\n  //button, we check whether the account exists. If it does, we update the state,\r\n  //setting the resetEmail var to the email entered, hiding the current dialog box\r\n  //and showing the security question dialog box.\r\n  handleLookUpAccount = async event => {\r\n    event.preventDefault();\r\n    let url = \"/accountexists?userId=\" + this.accountEmailRef.current.value;\r\n    let res = await fetch(url, { method: \"GET\" });\r\n    let body;\r\n    if (res.status != 200) {\r\n      alert(\r\n        \"Sorry, there was a problem communicating with the server. Please try again.\"\r\n      );\r\n      this.accountEmailRef.current.focus();\r\n      return;\r\n    }\r\n    body = await res.json();\r\n    if (!body.result) {\r\n      alert(\"Sorry, there is no account associated with this email address.\");\r\n      this.accountEmailRef.current.select();\r\n      return;\r\n    }\r\n    //if here, account exists -- grab security question\r\n    url = \"/securityquestion?userId=\" + this.accountEmailRef.current.value;\r\n    res = await fetch(url, { method: \"GET\" });\r\n    if (res.status != 200) {\r\n      alert(\r\n        \"Sorry, there was a problem communicating with the server. Please try again.\"\r\n      );\r\n      this.accountEmailRef.current.focus();\r\n      return;\r\n    }\r\n    let question = await res.text();\r\n    this.setState({\r\n      resetEmail: this.accountEmailRef.current.value,\r\n      resetQuestion: question,\r\n      showLookUpAccountDialog: false,\r\n      showSecurityQuestionDialog: true\r\n    });\r\n    this.emailInputRef.current.value = \"\"; //clear out field\r\n  };\r\n\r\n  //renderLookUpAccountDialog -- Present a dialog box for user to enter the email address\r\n  //associated with their account in case where they want to reset password\r\n  renderLookUpAccountDialog = () => {\r\n    return (\r\n      <div className=\"modal\" role=\"dialog\">\r\n        <div className=\"modal-dialog modal-lg\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h3 className=\"modal-title\">\r\n                <b>Look Up Account</b>\r\n                <button\r\n                  className=\"close-modal-button\"\r\n                  onClick={() => {\r\n                    this.setState({ showLookUpAccountDialog: false });\r\n                  }}\r\n                >\r\n                  &times;\r\n                </button>\r\n              </h3>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <form onSubmit={this.handleLookUpAccount}>\r\n                <label>\r\n                  Account Email Address:\r\n                  <input\r\n                    className=\"form-control form-text\"\r\n                    type=\"email\"\r\n                    size=\"35\"\r\n                    placeholder=\"Enter Email Address\"\r\n                    pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n                    ref={this.accountEmailRef}\r\n                    required={true}\r\n                  />\r\n                </label>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"loginBtn btn btn-primary\r\n                  btn-block btncolortheme\"\r\n                >\r\n                  <span className=\"fa fa-search\"></span>&nbsp;Look Up Account\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  //handleSecurityQuestionResponse: When the user clicks on the \"Check Answer\" dialog box\r\n  //button, we check whether the security question answer is correct. If it is,\r\n  //present dialog box for resetting the password.\r\n  handleSecurityQuestionResponse = async event => {\r\n    event.preventDefault();\r\n    let url =\r\n      \"verifysecurityanswer/?userId=\" +\r\n      this.state.resetEmail +\r\n      \"&answer=\" +\r\n      this.securityAnswerRef.current.value;\r\n    let res = await fetch(url, { method: \"GET\" });\r\n    if (res.status != 200) {\r\n      alert(\"There was a problem communicating with the server. Try again.\");\r\n      return;\r\n    }\r\n    let body = await res.json();\r\n    if (!body.result) {\r\n      alert(\"Sorry, that is not the correct answer to the security question.\");\r\n      this.securityAnswerRef.current.select();\r\n      return;\r\n    }\r\n    this.setState({\r\n      resetAnswer: this.securityAnswerRef.current.value,\r\n      showSecurityQuestionDialog: false,\r\n      showPasswordResetDialog: true\r\n    });\r\n    this.securityAnswerRef.current.value = \"\"; //clear out field\r\n  };\r\n\r\n  //renderSecurityQuestionDialog -- Present a dialog box for user to enter answer\r\n  //to their security question.\r\n  renderSecurityQuestionDialog = () => {\r\n    return (\r\n      <div className=\"modal\" role=\"dialog\">\r\n        <div className=\"modal-dialog modal-lg\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h3 className=\"modal-title\">\r\n                <b>Answer Security Question</b>\r\n                <button\r\n                  className=\"close-modal-button\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      resetEmail: \"\",\r\n                      resetQuestion: \"\",\r\n                      resetAnswer: \"\",\r\n                      showSecurityQuestionDialog: false\r\n                    });\r\n                  }}\r\n                >\r\n                  &times;\r\n                </button>\r\n              </h3>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <form onSubmit={this.handleSecurityQuestionResponse}>\r\n                <label>\r\n                  Security Question:\r\n                  <textarea\r\n                    readOnly={true}\r\n                    value={this.state.resetQuestion}\r\n                    className=\"form-control form-text\"\r\n                    rows=\"3\"\r\n                    cols=\"35\"\r\n                  />\r\n                </label>\r\n                <label>\r\n                  Security Answer:\r\n                  <textarea\r\n                    className=\"form-control form-text\"\r\n                    placeholder=\"Enter Security Question Answer\"\r\n                    ref={this.securityAnswerRef}\r\n                    rows=\"3\"\r\n                    cols=\"35\"\r\n                  />\r\n                </label>\r\n                <p></p>\r\n                <button\r\n                  role=\"submit\"\r\n                  className=\"loginBtn btn btn-primary btn-color-theme form-submit-btn\"\r\n                >\r\n                  <span className=\"fa fa-check\"></span>&nbsp;Verify Answer\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  //handleResetPassword: When the user clicks on the \"Reset Password\" dialog box\r\n  //button, we need check whether the passwords match. If they do,\r\n  //we reset the password and log the user in.\r\n  handleResetPassword = async event => {\r\n    event.preventDefault();\r\n    if (\r\n      this.resetPasswordRef.current.value !=\r\n      this.resetPasswordRepeatRef.current.value\r\n    ) {\r\n      alert(\"Sorry, The passwords you entered do not match. Please try again.\");\r\n      this.resetPasswordRepeatRef.current.select();\r\n      return;\r\n    }\r\n    const resetInfo = {\r\n      userId: this.state.resetEmail,\r\n      answer: this.state.resetAnswer,\r\n      newPassword: this.resetPasswordRef.current.value\r\n    };\r\n    const res = await fetch(\"/resetpassword\", {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      method: \"POST\",\r\n      body: JSON.stringify(resetInfo)\r\n    });\r\n    const text = await res.text();\r\n    alert(text);\r\n    this.resetPasswordRef.current.value = \"\";\r\n    this.resetPasswordRepeatRef.current.value = \"\";\r\n    this.setState({ showPasswordResetDialog: false });\r\n  };\r\n\r\n  //renderPasswordResetDialog -- Present a dialog box for user to enter answer\r\n  //to their security question.\r\n  renderPasswordResetDialog = () => {\r\n    return (\r\n      <div className=\"modal\" role=\"dialog\">\r\n        <div className=\"modal-dialog modal-lg\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h3 className=\"modal-title\">\r\n                <b>Reset Password</b>\r\n                <button\r\n                  className=\"close-modal-button\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      resetEmail: \"\",\r\n                      resetQuestion: \"\",\r\n                      resetAnswer: \"\",\r\n                      showPasswordResetDialog: false\r\n                    });\r\n                  }}\r\n                >\r\n                  &times;\r\n                </button>\r\n              </h3>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <form onSubmit={this.handleResetPassword}>\r\n                <label>\r\n                  New Password:\r\n                  <input\r\n                    type=\"password\"\r\n                    placeholder=\"Enter new password\"\r\n                    pattern=\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n                    className=\"form-control form-text\"\r\n                    ref={this.resetPasswordRef}\r\n                  />\r\n                </label>\r\n                &nbsp;&nbsp;\r\n                <label>\r\n                  Repeat New Password:\r\n                  <input\r\n                    type=\"password\"\r\n                    placeholder=\"Repeat new password\"\r\n                    className=\"form-control form-text\"\r\n                    ref={this.resetPasswordRepeatRef}\r\n                  />\r\n                </label>\r\n                &nbsp;&nbsp;\r\n                <button\r\n                  role=\"submit\"\r\n                  className=\"loginBtn btn btn-primary\r\n                  btn-block btncolortheme\"\r\n                >\r\n                  <span className=\"fa fa-key\"></span>&nbsp;Reset Password\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"login-mode-div\" className=\"padded-page\">\r\n        <center>\r\n          <form id=\"loginForm\" onSubmit={this.handleLoginSubmit}>\r\n            <p className=\"greeting\">Welcome To Your Recipe App</p>\r\n            <label htmlFor=\"emailInput\">\r\n              Email:\r\n              <input\r\n                ref={this.emailInputRef}\r\n                className=\"form-control\"\r\n                type=\"email\"\r\n                placeholder=\"Enter Email Address\"\r\n                id=\"emailInput\"\r\n                pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n                required={true}\r\n              />\r\n            </label>\r\n            <p></p>\r\n            <label htmlFor=\"passwordInput\">\r\n              Password:\r\n              <input\r\n                ref={this.passwordInputRef}\r\n                className=\"form-control\"\r\n                type=\"password\"\r\n                placeholder=\"Enter Password\"\r\n                id=\"passwordInput\"\r\n                pattern=\"[A-Za-z0-9!@#$%^&*()_+\\-]+\"\r\n                required={true}\r\n              />\r\n            </label>\r\n            <p className=\"login-error-msg-text\">{this.state.loginMsg}</p>\r\n            <button\r\n              type=\"submit\"\r\n              id=\"loginBtn\"\r\n              className=\"loginBtn btn btn-primary\r\n             btn-block btncolortheme\"\r\n            >\r\n              <span id=\"loginBtnIcon\"></span>\r\n              Log In\r\n            </button>\r\n            <br />\r\n            <p>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn account-link\"\r\n                onClick={() => {\r\n                  this.setState({ showAccountDialog: true });\r\n                }}\r\n              >\r\n                Create an account\r\n              </button>{\" \"}\r\n              |\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn account-link\"\r\n                onClick={() => {\r\n                  this.setState({ showLookUpAccountDialog: true });\r\n                }}\r\n              >\r\n                Reset your password\r\n              </button>\r\n            </p>\r\n            <button\r\n              type=\"button\"\r\n              className=\"loginBtn btn btn-primary\r\n              btn-block btncolortheme\"\r\n              onClick={() => this.handleOAuthLoginClick(\"google\")}\r\n            >\r\n              <span className={this.state.googleIcon}></span>&nbsp;\r\n              {this.state.googleLabel}\r\n            </button>\r\n          </form>\r\n          {this.state.showAccountDialog ? this.renderAccountDialog() : null}\r\n          {this.state.showLookUpAccountDialog\r\n            ? this.renderLookUpAccountDialog()\r\n            : null}\r\n          {this.state.showSecurityQuestionDialog\r\n            ? this.renderSecurityQuestionDialog()\r\n            : null}\r\n          {this.state.showPasswordResetDialog\r\n            ? this.renderPasswordResetDialog()\r\n            : null}\r\n        </center>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginPage;\r\n","import React from \"react\";\r\n\r\nclass FloatingButton extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <a\r\n          className=\"floatbtn\"\r\n          onClick={this.props.menuOpen ? null : this.props.handleClick}\r\n        >\r\n          <span className={\"floatbtn-icon \" + this.props.icon}></span>\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FloatingButton;\r\n","import React from \"react\";\r\nimport \"../styles/modal.css\";\r\nimport AppMode from \"../AppMode.js\";\r\n\r\nclass RecipesTable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //confirmDelete state variable determines whether to show or hide the\r\n    //confirm delete dialog box\r\n    this.state = { confirmDelete: false };\r\n  }\r\n\r\n  //editbook -- Triggered when the user clicks the edit button for a given\r\n  //book. The id param is the unique property that identifies the book.\r\n  //Set the state variable representing the id of the book to be edited and\r\n  //then switch to the bookS_EDITbook mode to allow the user to edit the\r\n  //chosen book.\r\n  editBook = id => {\r\n    this.props.setEditId(id);\r\n    this.props.changeMode(AppMode.BOOKS_EDITBOOK);\r\n  };\r\n\r\n  //confirmDelete -- Triggered when the user clicks on the delete button\r\n  //associated with a given book. The id param is the unique property that\r\n  //identifies the book. Set the state variable representing the id\r\n  //of the item to be deleted and set the confirmDelete state variable to true\r\n  //to force a re-render with the confirm delete modal dialog box showing.\r\n  confirmDelete = id => {\r\n    this.props.setDeleteId(id);\r\n    this.setState({ confirmDelete: true });\r\n  };\r\n\r\n  //doDelete -- Triggered when the user clicks on the \"Yes Delete\" button in\r\n  //the confirm delete dialog box. Call upon parent component's deletebook to\r\n  //to actually performt he deletion of the book currently flagged for\r\n  //deletion and toggle the confirmDelete state variable to hide the confirm\r\n  //dialog box.\r\n  doDelete = () => {\r\n    this.props.deleteBook();\r\n    this.setState({ confirmDelete: false });\r\n  };\r\n\r\n  //cancelDelete -- Triggered when the user chooses to cancel a delete\r\n  //operation. We just need to update state to toggle confirmDelete to false\r\n  cancelDelete = () => {\r\n    this.props.setDeleteId(\"\");\r\n    this.setState({ confirmDelete: false });\r\n  };\r\n\r\n  // renderConfirmDeleteDialog: presents user with dialog to confirm deletion\r\n  // of book. Credit: https://getbootstrap.com/docs/4.0/components/modal/\r\n  renderConfirmDeleteDialog = () => {\r\n    return (\r\n      <div className=\"modal\" role=\"dialog\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <p className=\"modal-title\">Confirm Book Deletion</p>\r\n            <button className=\"close-modal-button\" onClick={this.cancelDelete}>\r\n              &times;\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <center>\r\n              <h4>Are you sure that you want to delete this book?</h4>\r\n            </center>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                className=\"loginBtn btn btn-primary btn-color-scheme\"\r\n                onClick={this.doDelete}\r\n              >\r\n                YES\r\n              </button>\r\n              <button\r\n                className=\"loginBtn btn btn-secondary\"\r\n                onClick={this.cancelDelete}\r\n              >\r\n                NO\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  //renderTable -- render an HTML table displaying the books logged\r\n  //by the current user and providing buttons to view/edit and delete each book.\r\n  renderTable = () => {\r\n    let table = [];\r\n    for (let b = 0; b < this.props.books.length; ++b) {\r\n      table.push(\r\n        <tr key={b}>\r\n          <td>{this.props.books[b].bookName}</td>\r\n          <td>{this.props.books[b].author}</td>\r\n          <td>{this.props.books[b].genere}</td>\r\n          <td>{this.props.books[b].pages}</td>\r\n          <td>\r\n            <button\r\n              onClick={this.props.menuOpen ? null : () => this.editBook(b)}\r\n            >\r\n              <span className=\"fa fa-binoculars\"></span>\r\n            </button>\r\n          </td>\r\n          <td>\r\n            <button\r\n              onClick={this.props.menuOpen ? null : () => this.confirmDelete(b)}\r\n            >\r\n              <span className=\"fa fa-trash\"></span>\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      );\r\n    }\r\n    return table;\r\n  };\r\n\r\n  //render--render the entire books table with header, displaying a \"No\r\n  //books Logged\" message in case the table is empty.\r\n  render() {\r\n    return (\r\n      <div className=\"paddedPage\">\r\n        <center>\r\n          <h1>Your Library</h1>\r\n        </center>\r\n\r\n        <table className=\"table table-hover booksTable\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n              <th scope=\"col\">Name</th>\r\n              <th scope=\"col\">Author</th>\r\n              <th scope=\"col\">Genere</th>\r\n              <th scope=\"col\">Pages</th>\r\n              <th scope=\"col\">View/Edit</th>\r\n              <th scope=\"col\">Delete</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {Object.keys(this.props.books).length === 0 ? (\r\n              <tr>\r\n                <td colSpan=\"6\" style={{ fontStyle: \"italic\" }}>\r\n                  No data recorded\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              this.renderTable()\r\n            )}\r\n          </tbody>\r\n        </table>\r\n        {this.state.confirmDelete ? this.renderConfirmDeleteDialog() : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RecipesTable;\r\n","import React from \"react\";\r\nimport AppMode from \"../AppMode.js\";\r\n\r\n//bookForm -- this component presents a controlled form through which the user\r\n//can enter a new book or edit an existing book.\r\nclass RecipeForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if (this.props.mode === AppMode.BOOKS_ADDBOOK) {\r\n      this.state = {\r\n        bookName: \"\",\r\n        author: \"\",\r\n        genere: \"Realistic Fiction\",\r\n        pages: null,\r\n        faIcon: \"fa fa-save\",\r\n        btnLabel: \"Save Book Data\"\r\n      };\r\n    } else {\r\n      this.state = this.props.startData;\r\n      this.state.faIcon = \"fa fa-edit\";\r\n      this.state.btnLabel = \"Update Book Data\";\r\n    }\r\n  }\r\n\r\n  handleChange = event => {\r\n    const name = event.target.name;\r\n    console.log(\"event.target.select\");\r\n    console.log(event.target.select);\r\n    this.setState({ [name]: event.target.value });\r\n  };\r\n\r\n  //handleSubmit -- When the user clicks on the button to save/update the\r\n  //book, start the spinner and invoke the parent component's savebook\r\n  //method to do the actual work. Note that savebook is set to the correct\r\n  //parent method based on whether the user is logging a new book or editing\r\n  //an existing book.\r\n  handleSubmit = event => {\r\n    //start spinner\r\n    this.setState({\r\n      faIcon: \"fa fa-spin fa-spinner\",\r\n      btnLabel:\r\n        this.props.mode === AppMode.BOOKS_ADDBOOK ? \"Saving...\" : \"Updating...\"\r\n    });\r\n    //Prepare current book data to be saved\r\n    let bookData = this.state;\r\n    delete bookData.faIcon;\r\n    delete bookData.btnLabel;\r\n    //call savebook on 1 second delay to show spinning icon\r\n    setTimeout(this.props.saveBook, 1000, bookData);\r\n    event.preventDefault();\r\n  };\r\n\r\n  //render -- renders the form to enter book data.\r\n  render() {\r\n    return (\r\n      <div className=\"paddedPage\">\r\n        <form onSubmit={this.handleSubmit}>\r\n          <p></p>\r\n          <center>\r\n            <label htmlFor=\"bookName\">\r\n              Book Name:\r\n              <input\r\n              value={this.state.bookName}\r\n                name=\"bookName\"\r\n                id=\"bookName\"\r\n                class=\"form-control form-center \"\r\n                type=\"text\"\r\n                required\r\n                onChange={this.handleChange}\r\n              />\r\n            </label>\r\n            &nbsp;\r\n            <label htmlFor=\"author\">\r\n              Author:\r\n              <input\r\n              value={this.state.author}\r\n                name=\"author\"\r\n                id=\"author\"\r\n                class=\"form-control form-center \"\r\n                type=\"text\"\r\n                required\r\n                onChange={this.handleChange}\r\n              />\r\n            </label>\r\n            &nbsp;\r\n            <label htmlFor=\"genere\">\r\n              Genere:\r\n              <select\r\n              value={this.state.genere}\r\n                name=\"genere\"\r\n                id=\"genere\"\r\n                class=\"form-control form-center \"\r\n                required\r\n                onChange={this.handleChange}\r\n              >\r\n                <option value=\"Realistic Fiction\">Realistic Fiction</option>\r\n                <option value=\"Non Fiction\">Non Fiction</option>\r\n                <option value=\"Mystery\">Mystery</option>\r\n                <option value=\"Other\">Other</option>\r\n              </select>\r\n            </label>\r\n            &nbsp;\r\n            <label htmlFor=\"numPages\">\r\n              Number of Pages:\r\n              <input\r\n              value={this.state.pages}\r\n                name=\"pages\"\r\n                ref={this.pagesRef}\r\n                id=\"numPages\"\r\n                class=\"form-control form-center\"\r\n                type=\"number\"\r\n                min=\"1\"\r\n                max=\"1000\"\r\n                required\r\n                onChange={this.handleChange}\r\n              />\r\n            </label>\r\n            <p></p>\r\n            <button\r\n              id=\"submitBookBtn\"\r\n              type=\"submit\"\r\n              className=\"loginBtn btn btn-primary\r\n                    btn-block btncolortheme\"\r\n              style={{ width: \"230px\", fontSize: \"20px\", zindex: 110 }}\r\n            >\r\n              <span className={this.state.faIcon} />\r\n              &nbsp;{this.state.btnLabel}\r\n            </button>\r\n          </center>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RecipeForm;\r\n","//books -- A parent component for the app's \"books\" mode.sidemenu-user\r\n//Manages the books data for the current user and conditionally renders the\r\n//appropriate books mode page based on App's mode, which is passed in as a\r\n//prop.\r\n\r\nimport React from \"react\";\r\nimport FloatingButton from \"./FloatingButton.js\";\r\nimport AppMode from \"../AppMode.js\";\r\nimport RecipesTable from \"./RecipesTable.js\";\r\nimport RecipeForm from \"./RecipeForm.js\";\r\n\r\nclass Recipes extends React.Component {\r\n  //Initialize a books object based on local storage\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      books: [],\r\n      deleteId: \"\",\r\n      editId: \"\"\r\n    };\r\n  }\r\n\r\n  fetchBooks = async () => {\r\n    // let url = \"/books/\" + this.props.user.id;\r\n    // let res = await fetch(url, {method: 'GET'});\r\n    // if (res.status != 200) {\r\n    //     let msg = await res.text();\r\n    //     alert(\"Sorry, there was an error obtaining books data for this user: \" + msg);\r\n    //     return;\r\n    // } \r\n    // let body = await res.json();\r\n    // this.setState({books: JSON.parse(body)}, this.props.changeMode(AppMode.BOOKS));\r\n}\r\n\r\n  componentDidMount() {\r\n    this.fetchBooks();\r\n  }\r\n\r\n  //setDeleteId -- Capture in this.state.deleteId the unique id of the item\r\n  //the user is considering deleting.\r\n  setDeleteId = val => {\r\n    this.setState({ deleteId: val });\r\n  };\r\n\r\n  //setEditId -- Capture in this.state.editId the unique id of the item\r\n  //the user is considering editing.\r\n  setEditId = val => {\r\n    this.setState({ editId: val });\r\n  };\r\n\r\n  //editbook -- Given an object newData containing updated data on an\r\n  //existing book, update the current user's book uniquely identified by\r\n  //this.state.editId, commit to local storage, reset editId to empty and\r\n  //toggle the mode back to AppMode.bookS since the user is done editing the\r\n  //book.\r\n  editBook = async newData => {\r\n    let url =\r\n      \"/books/\" +\r\n      this.props.user.id +\r\n      \"/\" +\r\n      this.state.books[this.state.editId]._id;\r\n    let res = await fetch(url, {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      method: \"PUT\",\r\n      body: JSON.stringify(newData)\r\n    });\r\n    let msg = await res.text();\r\n    if (res.status != 200) {\r\n      alert(\r\n        \"An error occurred when attempting to update a book in the database: \" +\r\n          msg\r\n      );\r\n    } else {\r\n      //Push update into component state:\r\n      this.fetchBooks();\r\n    }\r\n  };\r\n\r\n  //deleteBook -- Delete the current user's book uniquely identified by\r\n  //this.state.deleteId, commit to local storage, and reset deleteId to empty.\r\n  deleteBook = async () => {\r\n    let url =\r\n      \"/books/\" +\r\n      this.props.user.id +\r\n      \"/\" +\r\n      this.state.books[this.state.deleteId]._id;\r\n    let res = await fetch(url, { method: \"DELETE\" });\r\n    let msg = await res.text();\r\n    if (res.status != 200) {\r\n      alert(\r\n        \"An error occurred when attempting to delete book from database: \" + msg\r\n      );\r\n    } else {\r\n      //Push update into component state:\r\n      this.fetchBooks();\r\n    }\r\n  };\r\n\r\n  //addbook -- Given an object newData containing a new book, add the book\r\n  //to the current user's list of books, commit to local storage, and toggle\r\n  //the mode back to AppMode.bookS since the user is done adding a book.\r\n  addBook = async newData => {\r\n    const url = \"/books/\" + this.props.user.id;\r\n    const res = await fetch(url, {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      method: \"POST\",\r\n      body: JSON.stringify(newData)\r\n    });\r\n    const msg = await res.text();\r\n    if (res.status != 200) {\r\n      alert(\r\n        \"An error occurred when attempting to add new book to database: \" + msg\r\n      );\r\n    } else {\r\n      //Push update into component state:\r\n      this.fetchBooks();\r\n    }\r\n  };\r\n\r\n  //render -- Conditionally render the books mode page as either the books\r\n  //table, the books form set to obtain a new book, or the books form set\r\n  //to edit an existing book.\r\n  render() {\r\n    switch (this.props.mode) {\r\n      case AppMode.RECIPES:\r\n        return (\r\n          <React.Fragment>\r\n            <RecipesTable\r\n              books={this.state.books}\r\n              setEditId={this.setEditId}\r\n              setDeleteId={this.setDeleteId}\r\n              deleteBook={this.deleteBook}\r\n              changeMode={this.props.changeMode}\r\n              menuOpen={this.props.menuOpen}\r\n            />\r\n            <FloatingButton\r\n              handleClick={() => this.props.changeMode(AppMode.BOOKS_ADDBOOK)}\r\n              menuOpen={this.props.menuOpen}\r\n              icon={\"fa fa-plus\"}\r\n            />\r\n          </React.Fragment>\r\n        );\r\n      case AppMode.BOOKS_ADDBOOK:\r\n        return <RecipeForm mode={this.props.mode} saveBook={this.addBook} />;\r\n      case AppMode.BOOKS_EDITBOOK:\r\n        return (\r\n          <RecipeForm\r\n            mode={this.props.mode}\r\n            startData={this.state.books[this.state.editId]}\r\n            saveBook={this.editBook}\r\n          />\r\n        );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Recipes;\r\n","import React from \"react\";\r\n\r\nclass PantryPage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"paddedPage center\">\r\n        <h1 align=\"center\">Reviews</h1>\r\n        <center>\r\n          <h2>This page is under construction.</h2>\r\n          <i className=\"fa fa-book reviewsIcon\"></i>\r\n          <br />\r\n          <p>&copy; 2020 Your Library. All rights reserved.</p>\r\n        </center>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PantryPage;\r\n","import React from \"react\";\r\nimport NavBar from \"./NavBar.js\";\r\nimport SideMenu from \"./SideMenu.js\";\r\nimport ModeBar from \"./ModeBar.js\";\r\nimport LoginPage from \"./LoginPage.js\";\r\nimport Recipes from \"./Recipes.js\";\r\nimport PantryPage from \"./PantryPage.js\";\r\nimport AppMode from \"./../AppMode.js\";\r\n\r\nconst modeTitle = {};\r\nmodeTitle[AppMode.LOGIN] = \"Welcome to Your Library\";\r\nmodeTitle[AppMode.RECIPES] = \"Your Recipes\";\r\nmodeTitle[AppMode.RECIPES_ADDBOOK] = \"Add New Recipe\";\r\nmodeTitle[AppMode.RECIPES_EDITBOOK] = \"Edit Recipe\";\r\nmodeTitle[AppMode.REVIEWS] = \"Reviews\";\r\n\r\nconst modeToPage = {};\r\nmodeToPage[AppMode.LOGIN] = LoginPage;\r\nmodeToPage[AppMode.RECIPES] = Recipes;\r\nmodeToPage[AppMode.RECIPES_ADDBOOK] = Recipes;\r\nmodeToPage[AppMode.RECIPES_EDITBOOK] = Recipes;\r\nmodeToPage[AppMode.PANTRY] = PantryPage;\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mode: AppMode.LOGIN,\r\n      menuOpen: false,\r\n      user: \"\",\r\n      showAbout: false,\r\n      authenticated: false\r\n    };\r\n  }\r\n\r\n  handleChangeMode = newMode => {\r\n    this.setState({ mode: newMode });\r\n  };\r\n\r\n  openMenu = () => {\r\n    this.setState({ menuOpen: true });\r\n  };\r\n\r\n  closeMenu = () => {\r\n    this.setState({ menuOpen: false });\r\n  };\r\n\r\n  toggleMenuOpen = () => {\r\n    this.setState(prevState => ({ menuOpen: !prevState.menuOpen }));\r\n  };\r\n\r\n  setUser = (userObj) => {\r\n    this.setState({ user: userObj });\r\n  };\r\n\r\n   //setAuthenticated -- Given auth (true or false), update authentication state.\r\n   setAuthenticated = (auth) => {\r\n    this.setState({authenticated: auth});\r\n  }\r\n\r\n  //When App component mounts, add a window-level click handler to close the\r\n  //side menu if it is open. This event should fire only if no other lower-level\r\n  //events intercept the click.\r\n  componentDidMount() {\r\n    window.addEventListener(\"click\", this.handleClick);\r\n\r\n    if (!this.state.authenticated) {\r\n      //Use /auth/test route to (re)-test authentication and obtain user data\r\n      fetch(\"/auth/test\")\r\n        .then(response => response.json())\r\n        .then(obj => {\r\n          if (obj.isAuthenticated) {\r\n            let data = JSON.parse(localStorage.getItem(\"yourRecipeUserData\"));\r\n            if (data == null) {\r\n              data = {}; //create empty database (localStorage)\r\n            }\r\n\r\n            if (!data.hasOwnProperty(obj.user.id)) {\r\n              //create new user with this id in database (localStorage)\r\n              data[obj.user.id] = {\r\n                accountInfo: {\r\n                  provider: obj.user.provider,\r\n                  password: \"\",\r\n                  securityQuestion: \"\",\r\n                  securityAnswer: \"\"\r\n                },\r\n\r\n                Recipes: {},\r\n              };\r\n\r\n              //Commit to localStorage:\r\n              localStorage.setItem(\"yourLibraryUserData\", JSON.stringify(data));\r\n            }\r\n\r\n            //Update current user\r\n            this.setState({\r\n              authenticated: true,\r\n              user: obj.user,\r\n              mode: AppMode.RECIPES //We're authenticated so can get into the app.\r\n            });\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  //We remove the event listener when the component\r\n  //unmounts. This is a best practice.\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"click\", this.handleClick);\r\n  }\r\n\r\n  //When the user clicks anywhere on the app and the menu is open, close it.\r\n  //This function takes advantage of event bubbling.\r\n  handleClick = event => {\r\n    if (this.state.menuOpen) {\r\n      this.closeMenu();\r\n    }\r\n    event.stopPropagation();\r\n  };\r\n\r\n  toggleAbout = () => {\r\n    this.setState(prevState => ({ showAbout: !prevState.showAbout }));\r\n  };\r\n\r\n  renderAbout = () => {\r\n    return (\r\n      <div className=\"modal\" role=\"dialog\">\r\n        <div className=\"modal-dialog modal-lg\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h3 className=\"modal-title\">\r\n                <b>About Your Recipe App</b>\r\n                <button\r\n                  className=\"close-modal-button\"\r\n                  onClick={this.toggleAbout}\r\n                >\r\n                  &times;\r\n                </button>\r\n              </h3>\r\n            </div>\r\n            <div className=\"modal-body \">\r\n              <center>\r\n                <img\r\n                  src={require(\"./books.jpg\")}\r\n                  height=\"280px\"\r\n                  width=\"370px\"\r\n                  className=\"aboutBody\"\r\n                />\r\n                <h3>Build Your Own Personal Library!</h3>\r\n                <p>\r\n                  <em>\r\n                    Version 1 (Live), Build 20.6.2018 <br />\r\n                    &copy; 2020 Madeline Anderson. All rights reserved.\r\n                  </em>\r\n                </p>\r\n              </center>\r\n              <p>\r\n                <b>Your Library app supports</b>\r\n              </p>\r\n              <ul className=\"yourRecipesSupports\">\r\n                <li>Adding and removing RECIPES in your personal library</li>\r\n                <li>Viewing your library</li>\r\n              </ul>\r\n              <p>\r\n                Your Library was first developed by Madeline Anderson, a\r\n                Computer Science Major at Washington State University. She is\r\n                currently a Junior, Developing this for CptS 489. She is an\r\n                intern at SEL in Pullman.\r\n              </p>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                className=\"loginBtn btn btn-primary btn-color-theme\"\r\n                onClick={this.toggleAbout}\r\n              >\r\n                OK\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const ModePage = modeToPage[this.state.mode];\r\n    return (\r\n      <div onClick={this.handleClick}>\r\n        {this.state.mode != AppMode.LOGIN &&\r\n          <NavBar\r\n          title={modeTitle[this.state.mode]}\r\n          mode={this.state.mode}\r\n          changeMode={this.handleChangeMode}\r\n          menuOpen={this.state.menuOpen}\r\n          toggleMenuOpen={this.toggleMenuOpen}\r\n        />}\r\n        <SideMenu\r\n          mode={this.state.mode}\r\n          menuOpen={this.state.menuOpen}\r\n          changeMode={this.handleChangeMode}\r\n          user={this.state.user}\r\n          showAbout={this.toggleAbout}\r\n        />\r\n        <ModeBar\r\n          mode={this.state.mode}\r\n          changeMode={this.handleChangeMode}\r\n          menuOpen={this.state.menuOpen}\r\n        />\r\n        <ModePage\r\n          menuOpen={this.state.menuOpen}\r\n          mode={this.state.mode}\r\n          changeMode={this.handleChangeMode}\r\n          setAuthenticated={this.setAuthenticated}\r\n          user={this.state.user}\r\n          setUser={this.setUser}\r\n        />\r\n        {this.state.showAbout ? this.renderAbout() : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nimport './styles/index.css';\r\nimport './styles/modal.css';\r\nimport App from './components/App.js';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap-social/bootstrap-social.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}