(this["webpackJsonpbp-recipe-react"]=this["webpackJsonpbp-recipe-react"]||[]).push([[0],{32:function(e,t,a){},40:function(e,t,a){e.exports=a(59)},47:function(e,t,a){},48:function(e,t,a){},57:function(e,t,a){e.exports=a.p+"static/media/pancakes.305293f5.jpg"},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),s=a.n(i),o=(a(45),a(46),a(47),a(32),a(48),a(2)),c=a.n(o),l=a(12),u=a(3),d=a(4),m=a(6),p=a(5),h=a(7),f={LOGIN:"LoginMode",RECIPES:"RecipeMode",RECIPES_ADDRECIPE:"RecipeMode-AddRecipe",RECIPES_EDITRECIPE:"RecipeMode-EditRecipe",RECIPES_VIEWRECIPE:"RecipeMode-ViewRecipe",PANTRY:"PantryMode",PANTRY_EDITINGREDIENT:"PantryMode-EditIngredient",PANTRY_ADDINGREDIENT:"PantryMode-EditIngredient",GROCERY_ADDINGREDIENT:"GroceryMode-AddIngredient"};Object.freeze(f);var E=f,g=a(19),v=a(18),b=a(35),y=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.mode===E.RECIPES_ADDRECIPE||this.props.mode===E.RECIPES_EDITRECIPE||this.props.mode===E.RECIPES_VIEWRECIPE;return r.a.createElement(g.a,{className:"navbar-base"},"\xa0",r.a.createElement(g.a.Item,{className:"navbar-brand-custom"},r.a.createElement("span",{onClick:t?function(){return e.props.changeMode(E.RECIPES)}:null,className:t?"modebar-icon fa fa-arrow-left favorited":"modebar-icon fa fa-cutlery",disabled:!t,style:{marginLeft:"8px",marginTop:"3px"}}),"\xa0\xa0\xa0My Recipe App"),r.a.createElement("div",{className:"navbar-items ml-auto"},r.a.createElement(g.a.Item,null,r.a.createElement(g.a.Link,{className:this.props.mode==E.RECIPES?"navlink navlink-selected":"navlink",onClick:function(){return e.props.changeMode(E.RECIPES)}},"Recipe List")),r.a.createElement(g.a.Item,null,r.a.createElement(g.a.Link,{onClick:function(){return e.props.changeMode(E.PANTRY)},className:this.props.mode==E.PANTRY?"navlink navlink-grocery navlink-selected":"navlink navlink-grocery"},"Groccery Management")),r.a.createElement(v.a,{as:b.a},r.a.createElement(v.a.Toggle,{as:b.a},r.a.createElement("img",{src:this.props.user.profileImageURL,height:"40",width:"40"})),r.a.createElement(v.a.Menu,null,r.a.createElement(v.a.Item,{disabled:!0},"Logged In as ",r.a.createElement("b",null,this.props.user.displayName)),r.a.createElement(v.a.Item,{onClick:this.props.showAbout},"About Recipe App"),r.a.createElement(v.a.Item,{onClick:this.props.showEditDialog},"Edit User Information"),r.a.createElement(v.a.Divider,null),r.a.createElement(v.a.Item,{onClick:function(){return e.props.changeMode(E.LOGIN)}},"Log Out")))))}}]),t}(r.a.Component),N=a(13);function C(e,t){var a=e[0],n=e[1],r=e[2],i=e[3];a=R(a,n,r,i,t[0],7,-680876936),i=R(i,a,n,r,t[1],12,-389564586),r=R(r,i,a,n,t[2],17,606105819),n=R(n,r,i,a,t[3],22,-1044525330),a=R(a,n,r,i,t[4],7,-176418897),i=R(i,a,n,r,t[5],12,1200080426),r=R(r,i,a,n,t[6],17,-1473231341),n=R(n,r,i,a,t[7],22,-45705983),a=R(a,n,r,i,t[8],7,1770035416),i=R(i,a,n,r,t[9],12,-1958414417),r=R(r,i,a,n,t[10],17,-42063),n=R(n,r,i,a,t[11],22,-1990404162),a=R(a,n,r,i,t[12],7,1804603682),i=R(i,a,n,r,t[13],12,-40341101),r=R(r,i,a,n,t[14],17,-1502002290),a=I(a,n=R(n,r,i,a,t[15],22,1236535329),r,i,t[1],5,-165796510),i=I(i,a,n,r,t[6],9,-1069501632),r=I(r,i,a,n,t[11],14,643717713),n=I(n,r,i,a,t[0],20,-373897302),a=I(a,n,r,i,t[5],5,-701558691),i=I(i,a,n,r,t[10],9,38016083),r=I(r,i,a,n,t[15],14,-660478335),n=I(n,r,i,a,t[4],20,-405537848),a=I(a,n,r,i,t[9],5,568446438),i=I(i,a,n,r,t[14],9,-1019803690),r=I(r,i,a,n,t[3],14,-187363961),n=I(n,r,i,a,t[8],20,1163531501),a=I(a,n,r,i,t[13],5,-1444681467),i=I(i,a,n,r,t[2],9,-51403784),r=I(r,i,a,n,t[7],14,1735328473),a=S(a,n=I(n,r,i,a,t[12],20,-1926607734),r,i,t[5],4,-378558),i=S(i,a,n,r,t[8],11,-2022574463),r=S(r,i,a,n,t[11],16,1839030562),n=S(n,r,i,a,t[14],23,-35309556),a=S(a,n,r,i,t[1],4,-1530992060),i=S(i,a,n,r,t[4],11,1272893353),r=S(r,i,a,n,t[7],16,-155497632),n=S(n,r,i,a,t[10],23,-1094730640),a=S(a,n,r,i,t[13],4,681279174),i=S(i,a,n,r,t[0],11,-358537222),r=S(r,i,a,n,t[3],16,-722521979),n=S(n,r,i,a,t[6],23,76029189),a=S(a,n,r,i,t[9],4,-640364487),i=S(i,a,n,r,t[12],11,-421815835),r=S(r,i,a,n,t[15],16,530742520),a=k(a,n=S(n,r,i,a,t[2],23,-995338651),r,i,t[0],6,-198630844),i=k(i,a,n,r,t[7],10,1126891415),r=k(r,i,a,n,t[14],15,-1416354905),n=k(n,r,i,a,t[5],21,-57434055),a=k(a,n,r,i,t[12],6,1700485571),i=k(i,a,n,r,t[3],10,-1894986606),r=k(r,i,a,n,t[10],15,-1051523),n=k(n,r,i,a,t[1],21,-2054922799),a=k(a,n,r,i,t[8],6,1873313359),i=k(i,a,n,r,t[15],10,-30611744),r=k(r,i,a,n,t[6],15,-1560198380),n=k(n,r,i,a,t[13],21,1309151649),a=k(a,n,r,i,t[4],6,-145523070),i=k(i,a,n,r,t[11],10,-1120210379),r=k(r,i,a,n,t[2],15,718787259),n=k(n,r,i,a,t[9],21,-343485551),e[0]=P(a,e[0]),e[1]=P(n,e[1]),e[2]=P(r,e[2]),e[3]=P(i,e[3])}function w(e,t,a,n,r,i){return t=P(P(t,e),P(n,i)),P(t<<r|t>>>32-r,a)}function R(e,t,a,n,r,i,s){return w(t&a|~t&n,e,t,r,i,s)}function I(e,t,a,n,r,i,s){return w(t&n|a&~n,e,t,r,i,s)}function S(e,t,a,n,r,i,s){return w(t^a^n,e,t,r,i,s)}function k(e,t,a,n,r,i,s){return w(a^(t|~n),e,t,r,i,s)}function A(e){var t,a=[];for(t=0;t<64;t+=4)a[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return a}var D="0123456789abcdef".split("");function O(e){for(var t="",a=0;a<4;a++)t+=D[e>>8*a+4&15]+D[e>>8*a&15];return t}function x(e){return function(e){for(var t=0;t<e.length;t++)e[t]=O(e[t]);return e.join("")}(function(e){var t,a=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)C(n,A(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(C(n,r),t=0;t<16;t++)r[t]=0;return r[14]=8*a,C(n,r),n}(e))}function P(e,t){return e+t&4294967295}if("5d41402abc4b2a76b9719d911017c592"!=x("hello"));var j=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleLogin=function(){a.setState({loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In"}),a.props.setUser({id:a.emailInputRef.current.value,username:a.emailInputRef.current.value,provider:"local",profileImageURL:"https://www.gravatar.com/avatar/".concat(x(a.emailInputRef.current.value))}),a.props.setAuthenticated(!0),a.props.changeMode(E.Recipes)},a.handleLoginSubmit=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({loginBtnIcon:"fa fa-spin fa-spinner",loginBtnLabel:"Logging In..."}),n="/auth/login?username="+a.emailInputRef.current.value+"&password="+a.passwordInputRef.current.value,e.next=5,fetch(n,{method:"POST"});case 5:if(200!=(r=e.sent).status){e.next=10;break}window.open("/","_self"),e.next=14;break;case 10:return e.next=12,r.text();case 12:i=e.sent,a.setState({loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In",loginMsg:i},(function(){return setTimeout(a.hideErrorMsg,3e3)}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.hideErrorMsg=function(){a.emailInputRef.current.value="",a.passwordInputRef.current.value="",a.setState({loginMsg:""})},a.handleOAuthLogin=function(e){window.open("/auth/".concat(e),"_self")},a.handleOAuthLoginClick=function(e){var t;a.setState((t={},Object(N.a)(t,e+"Icon","fa fa-spin fa-spinner"),Object(N.a)(t,e+"Label","Connecting..."),t)),setTimeout((function(){return a.handleOAuthLogin(e)}),1e3)},a.checkAccountValidity=function(){a.state.accountPassword!=a.state.accountPasswordRepeat?a.repeatPassRef.current.setCustomValidity("This password must match original password."):a.repeatPassRef.current.setCustomValidity("")},a.handleNewAccountChange=function(e){a.setState(Object(N.a)({},e.target.name,e.target.value),a.checkAccountValidity)},a.handleCreateAccount=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n="/users/"+a.state.accountName,r={password:a.state.accountPassword,securityQuestion:a.state.accountSecurityQuestion,securityAnswer:a.state.accountSecurityAnswer},e.next=5,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(r)});case 5:if(200!=(i=e.sent).status){e.next=11;break}alert("Your account was successfully created. Please log in using your email and password to continue."),a.setState({showAccountDialog:!1}),e.next=15;break;case 11:return e.next=13,i.text();case 13:s=e.sent,alert(s);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderAccountDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Create New Account"),r.a.createElement("button",{className:"close-modal-button",onClick:function(){a.setState({showAccountDialog:!1})}},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:a.handleCreateAccount},r.a.createElement("label",null,"Email:",r.a.createElement("input",{className:"form-control form-text",name:"accountName",type:"email",size:"35",placeholder:"Enter Email Address",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",ref:a.newUserRef,required:!0,value:a.state.accountName,onChange:a.handleNewAccountChange})),r.a.createElement("label",null,"Password:",r.a.createElement("input",{className:"form-control form-text",name:"accountPassword",type:"password",size:"35",placeholder:"Enter Password",pattern:"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$",required:!0,ref:a.repeatPassRef,value:a.state.accountPassword,onChange:a.handleNewAccountChange})),r.a.createElement("label",null,"Repeat Password:",r.a.createElement("input",{className:"form-control form-text",name:"accountPasswordRepeat",type:"password",size:"35",placeholder:"Repeat Password",required:!0,ref:a.repeatPassRef,value:a.state.accountPasswordRepeat,onChange:a.handleNewAccountChange})),r.a.createElement("label",null,"Security Question:",r.a.createElement("textarea",{className:"form-control form-text",name:"accountSecurityQuestion",size:"35",placeholder:"Security Question",rows:"2",cols:"35",maxLength:"100",required:!0,value:a.state.accountSecurityQuestion,onChange:a.handleNewAccountChange})),r.a.createElement("label",null,"Answer to Security Question:",r.a.createElement("textarea",{className:"form-control form-text",name:"accountSecurityAnswer",type:"text",placeholder:"Answer",rows:"2",cols:"35",maxLength:"100",required:!0,value:a.state.accountSecurityAnswer,onChange:a.handleNewAccountChange})),r.a.createElement("button",{role:"submit",className:"loginBtn btn btn-primary\r btn-block btncolortheme"},r.a.createElement("span",{className:"fa fa-user-plus"}),"\xa0Create Account"))))))},a.handleLookUpAccount=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n="/users/"+a.accountEmailRef.current.value,e.next=4,fetch(n,{method:"GET"});case 4:if(200==(r=e.sent).status){e.next=9;break}return alert("Sorry, there is no account associated with this email address."),a.accountEmailRef.current.focus(),e.abrupt("return");case 9:return e.next=11,r.json();case 11:i=e.sent,i=JSON.parse(i),alert("Body: "+i),a.setState({resetEmail:a.accountEmailRef.current.value,resetQuestion:i.securityQuestion,resetAnswer:i.securityAnswer,showLookUpAccountDialog:!1,showSecurityQuestionDialog:!0}),a.emailInputRef.current.value="";case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderLookUpAccountDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Look Up Account"),r.a.createElement("button",{className:"close-modal-button",onClick:function(){a.setState({showLookUpAccountDialog:!1})}},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:a.handleLookUpAccount},r.a.createElement("label",null,"Account Email Address:",r.a.createElement("input",{className:"form-control form-text",type:"email",size:"35",placeholder:"Enter Email Address",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",ref:a.accountEmailRef,required:!0})),r.a.createElement("button",{type:"submit",className:"loginBtn btn btn-primary\r btn-block btncolortheme"},r.a.createElement("span",{className:"fa fa-search"}),"\xa0Look Up Account"))))))},a.handleSecurityQuestionResponse=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.securityAnswerRef.current.value==a.state.resetAnswer){e.next=5;break}return alert("Sorry, that is not the correct answer to the security question."),a.securityAnswerRef.current.select(),e.abrupt("return");case 5:a.setState({showSecurityQuestionDialog:!1,showPasswordResetDialog:!0}),a.securityAnswerRef.current.value="";case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderSecurityQuestionDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Answer Security Question"),r.a.createElement("button",{className:"close-modal-button",onClick:function(){a.setState({resetEmail:"",resetQuestion:"",resetAnswer:"",showSecurityQuestionDialog:!1})}},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:a.handleSecurityQuestionResponse},r.a.createElement("label",null,"Security Question:",r.a.createElement("textarea",{readOnly:!0,value:a.state.resetQuestion,className:"form-control form-text",rows:"3",cols:"35"})),r.a.createElement("label",null,"Security Answer:",r.a.createElement("textarea",{className:"form-control form-text",placeholder:"Enter Security Question Answer",ref:a.securityAnswerRef,rows:"3",cols:"35"})),r.a.createElement("p",null),r.a.createElement("button",{role:"submit",className:"loginBtn btn btn-primary btn-color-theme form-submit-btn"},r.a.createElement("span",{className:"fa fa-check"}),"\xa0Verify Answer"))))))},a.handleResetPassword=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.resetPasswordRef.current.value==a.resetPasswordRepeatRef.current.value){e.next=5;break}return alert("Sorry, The passwords you entered do not match. Please try again."),a.resetPasswordRepeatRef.current.select(),e.abrupt("return");case 5:return n="/users/"+a.state.resetEmail,r={password:a.resetPasswordRef.current.value},e.next=9,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(r)});case 9:return i=e.sent,e.next=12,i.text();case 12:s=e.sent,alert(s),a.resetPasswordRef.current.value="",a.resetPasswordRepeatRef.current.value="",a.setState({showPasswordResetDialog:!1});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderPasswordResetDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Reset Password"),r.a.createElement("button",{className:"close-modal-button",onClick:function(){a.setState({resetEmail:"",resetQuestion:"",resetAnswer:"",showPasswordResetDialog:!1})}},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:a.handleResetPassword},r.a.createElement("label",null,"New Password:",r.a.createElement("input",{type:"password",placeholder:"Enter new password",pattern:"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$",className:"form-control form-text",ref:a.resetPasswordRef})),"\xa0\xa0",r.a.createElement("label",null,"Repeat New Password:",r.a.createElement("input",{type:"password",placeholder:"Repeat new password",className:"form-control form-text",ref:a.resetPasswordRepeatRef})),"\xa0\xa0",r.a.createElement("button",{role:"submit",className:"loginBtn btn btn-primary\r btn-block btncolortheme"},r.a.createElement("span",{className:"fa fa-key"}),"\xa0Reset Password"))))))},a.emailInputRef=r.a.createRef(),a.passwordInputRef=r.a.createRef(),a.repeatPassRef=r.a.createRef(),a.newUserRef=r.a.createRef(),a.accountEmailRef=r.a.createRef(),a.securityAnswerRef=r.a.createRef(),a.resetPasswordRef=r.a.createRef(),a.resetPasswordRepeatRef=r.a.createRef(),a.state={loginBtnIcon:"fa fa-sign-in",loginBtnLabel:"Log In",googleIcon:"fa fa-google",googleLabel:"Sign in with Google",githubIcon:"fa fa-github",githubLabel:"Sign in with GitHub",showAccountDialog:!1,showLookUpAccountDialog:!1,showSecurityQuestionDialog:!1,showPasswordResetDialog:!1,resetEmail:"",resetQuestion:"",resetAnswer:"",accountName:"",accountPassword:"",accountPasswordRepeat:"",accountSecurityQuestion:"",accountSecurityAnswer:""},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.emailInputRef.current.focus()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"login-mode-div",className:"padded-page"},r.a.createElement("center",null,r.a.createElement("form",{id:"loginForm",onSubmit:this.handleLoginSubmit},r.a.createElement("p",{className:"greeting"},"Welcome To Your Recipe App"),r.a.createElement("label",{htmlFor:"emailInput"},"Email:",r.a.createElement("input",{ref:this.emailInputRef,className:"form-control",type:"email",placeholder:"Enter Email Address",id:"emailInput",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",required:!0})),r.a.createElement("p",null),r.a.createElement("label",{htmlFor:"passwordInput"},"Password:",r.a.createElement("input",{ref:this.passwordInputRef,className:"form-control",type:"password",placeholder:"Enter Password",id:"passwordInput",pattern:"[A-Za-z0-9!@#$%^&*()_+\\-]+",required:!0})),r.a.createElement("p",{className:"login-error-msg-text"},this.state.loginMsg),r.a.createElement("button",{type:"submit",id:"loginBtn",className:"loginBtn btn btn-primary\r btn-block btncolortheme"},r.a.createElement("span",{id:"loginBtnIcon"}),"Log In"),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("button",{type:"button",className:"btn account-link",onClick:function(){e.setState({showAccountDialog:!0})}},"Create an account")," ","|",r.a.createElement("button",{type:"button",className:"btn account-link",onClick:function(){e.setState({showLookUpAccountDialog:!0})}},"Reset your password")),r.a.createElement("button",{type:"button",className:"loginBtn btn btn-primary\r btn-block btncolortheme",onClick:function(){return e.handleOAuthLoginClick("google")}},r.a.createElement("span",{className:this.state.googleIcon}),"\xa0",this.state.googleLabel),r.a.createElement("button",{type:"button",className:"loginBtn btn btn-primary\r btn-block btncolortheme",onClick:function(){return e.handleOAuthLoginClick("github")}},r.a.createElement("span",{className:this.state.githubIcon}),"\xa0",this.state.githubLabel)),this.state.showAccountDialog?this.renderAccountDialog():null,this.state.showLookUpAccountDialog?this.renderLookUpAccountDialog():null,this.state.showSecurityQuestionDialog?this.renderSecurityQuestionDialog():null,this.state.showPasswordResetDialog?this.renderPasswordResetDialog():null))}}]),t}(r.a.Component),L=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{className:"floatbtn",onClick:this.props.handleClick},r.a.createElement("span",{className:"floatbtn-icon "+this.props.icon})))}}]),t}(r.a.Component),T=a(28),M=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).toggleVisible=function(){a.setState((function(e){return{visible:!e.visible}}))},a.handleChangeFilter=function(e){a.setState({filter:e.target.value})},a.handleSearchChange=function(e){var t=e.target.value,n=[];if("Recipes"==a.state.filter){if(""!==t){var r=t.toLowerCase();n=a.props.allRecipes.filter((function(e){return e.name.toLowerCase().includes(r)}))}}else if("Ingredients"==a.state.filter){var i=0;if(""!==t){var s=t.toLowerCase();n=a.props.allRecipes.filter((function(e){for(i=0;i<e.ingredients.length;++i){var t=e.ingredients[i].name.toLowerCase();if(t.includes(s))return t.includes(s)}}))}}else n=a.props.allRecipes;a.props.updateFilteredRecipes(n)},a.handleClickOutside=function(e){var t=s.a.findDOMNode(Object(T.a)(a));(!t||!t.contains(e.target)&&a.state.visible)&&a.setState({visible:!1})},a.state={visible:!1,filter:""},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"render",value:function(){return r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement("button",{onClick:this.toggleVisible,className:"recipe-search-icon fa fa-search",id:"searchButton",style:{background:"none",border:"none",fontSize:"25px",paddingBottom:"20px",paddingTop:"10px",paddingRight:"15px"}}),r.a.createElement("input",{type:"search",onChange:this.handleSearchChange,hidden:!this.state.visible,placeholder:"Search...",id:"searchBar",style:{borderRadius:"10px",border:"1.4px solid",paddingLeft:"8px",width:"15vw",outline:"none"}}),r.a.createElement("input",{placeholder:"Filter Search",className:"ingredient-input-filter",type:"text",list:"filters",id:"filterSearch",onChange:this.handleChangeFilter,value:this.state.filter}),r.a.createElement("datalist",{id:"filters"},r.a.createElement("option",null,"Recipes"),r.a.createElement("option",null,"Ingredients")))}}]),t}(r.a.Component),U=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).favoriteClicked=function(e){e.stopPropagation();var t=a.state;a.state.favorited?(a.setState({favorited:!1}),t.favorited=!1):(a.setState({favorited:!0}),t.favorited=!0),a.props.saveRecipe(t,a.props.id,E.RECIPES)},a.renderRecipeImageError=function(e){e.target.src="https://www.boilersupplies.com/img/no_image.png"},a.state=a.props.data,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this;return r.a.createElement("div",{className:"recipe-card shadow mb-5 bg-white rounded"},r.a.createElement("img",(e={className:"recipe-card-img",src:this.state.pictureURL,height:"230",width:"270"},Object(N.a)(e,"className","rounded-top"),Object(N.a)(e,"alt","No Image Found"),Object(N.a)(e,"onError",this.renderRecipeImageError),e)),r.a.createElement("p",{className:"recipe-card-name"},this.state.name),r.a.createElement("h2",null,r.a.createElement("span",{className:"fav-btn fa fa-star recipe-card-favorite "+(this.state.favorited?"favorited":"unfavorited"),onClick:function(e){return t.favoriteClicked(e)}})))}}]),t}(r.a.Component),G=a(16),_=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).asc=!0,a.onClick=function(){a.props.selected&&(a.asc=!a.asc),a.props.onClick(),a.props.sortFunction(a.asc)},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.asc=!this.props.selected||this.asc,r.a.createElement("button",{className:"recipe-sort-button ".concat(this.props.icon).concat(this.asc?this.props.switch[0]:this.props.switch[1])+"".concat(this.props.selected?" selected":"")+"".concat(this.props.visible?" visible":"")+"".concat(this.props.customIcon?" custom":""),onClick:this.onClick,disabled:!this.props.visible})}}]),t}(r.a.Component),B=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).nameSort=function(e){var t=Object(G.a)(a.props.recipeList);t.sort((function(t,a){var n=t.name.toLowerCase(),r=a.name.toLowerCase(),i=0;return n<r&&(i=-1),n>r&&(i=1),e||(i*=-1),i})),a.props.updateFilteredRecipes(t)},a.timeSort=function(e){var t=Object(G.a)(a.props.recipeList);t.sort((function(t,a){var n=t.cookTime,r=a.cookTime,i=0;return n<r&&(i=-1),n>r&&(i=1),e||(i*=-1),i})),a.props.updateFilteredRecipes(t)},a.favoriteSort=function(e){var t=Object(G.a)(a.props.recipeList);t.sort((function(t,a){var n=t.favorited,r=a.favorited,i=0;return n&&!r&&(i=-1),!n&&r&&(i=1),e||(i*=-1),i})),a.props.updateFilteredRecipes(t)},a.onBtnClick=function(e){a.setState({selectedSort:e})},a.toggleVisible=function(){a.setState((function(e){return{visible:!e.visible}}))},a.state={selectedSort:null,visible:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"inline-block",float:"right"}},r.a.createElement(_,{selected:0===this.state.selectedSort,icon:"fa fa-sort-alpha",switch:["-asc","-desc"],onClick:function(){e.onBtnClick(0)},sortFunction:this.nameSort,visible:this.state.visible}),r.a.createElement(_,{selected:1===this.state.selectedSort,icon:"custom-icon-sort-time",switch:["-asc","-desc"],onClick:function(){e.onBtnClick(1)},sortFunction:this.timeSort,visible:this.state.visible,customIcon:!0}),r.a.createElement(_,{selected:2===this.state.selectedSort,icon:"fa fa-star",switch:["","-o"],onClick:function(){e.onBtnClick(2)},sortFunction:this.favoriteSort,visible:this.state.visible}),r.a.createElement("button",{className:"recipe-sort-toggle fa fa-filter",onClick:this.toggleVisible}))}}]),t}(r.a.Component),Q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name;a.setState(Object(N.a)({},t,e.target.value))},a.handleSubmit=function(e){a.setState({faIcon:"fa fa-spin fa-spinner",btnLabel:a.props.mode===E.RECIPES_ADDRECIPE?"Saving...":"Updating..."});var t=a.state;delete t.faIcon,delete t.btnLabel,delete t.confirmDelete,setTimeout(a.props.saveRecipe,1e3,t),e.preventDefault()},a.props.mode===E.RECIPES_ADDRECIPE?a.state={name:"",ingredients:[],directions:[],cookTime:0,pictureURL:"",dateAdded:"",expiration:"",favorited:!1,faIcon:"fa fa-save",btnLabel:"Save Recipe"}:(a.state=a.props.startData,a.state.faIcon="fa fa-edit",a.state.btnLabel="Update Recipe"),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"addDirection",value:function(e){e.preventDefault(),this.setState({directions:[].concat(Object(G.a)(this.state.directions),[""])})}},{key:"addIngredient",value:function(e){e.preventDefault();var t={name:"",quantity:null,unit:"",calories:null,expiration:""};this.setState({ingredients:[].concat(Object(G.a)(this.state.ingredients),[t])})}},{key:"handleChangeDirection",value:function(e,t){this.state.directions[t]=e.target.value,this.setState({directions:this.state.directions})}},{key:"handleChangeIngredientName",value:function(e,t){this.state.ingredients[t].name=e.target.value,this.setState({ingredients:this.state.ingredients})}},{key:"handleChangeIngredientexpiration",value:function(e,t){this.state.ingredients[t].expiration=e.target.value,this.setState({ingredients:this.state.ingredients})}},{key:"handleChangeIngredientQuantity",value:function(e,t){this.state.ingredients[t].quantity=parseFloat(e.target.value),this.setState({ingredients:this.state.ingredients})}},{key:"handleChangeIngredientUnit",value:function(e,t){this.state.ingredients[t].unit=e.target.value,this.setState({ingredients:this.state.ingredients})}},{key:"handleRemoveDirection",value:function(e,t){e.preventDefault(),this.state.directions.splice(t,1),this.setState({directions:this.state.directions})}},{key:"handleRemoveIngredient",value:function(e,t){e.preventDefault(),this.state.ingredients.splice(t,1),this.setState({ingredients:this.state.ingredients})}},{key:"handleChangeIngredientCalories",value:function(e,t){e.preventDefault(),this.state.ingredients[t].calories=e.target.value,this.setState({ingredients:this.state.ingredients})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"paddedPage"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",null),r.a.createElement("center",null,r.a.createElement("label",{htmlFor:"name"},"Recipe Name:",r.a.createElement("input",{value:this.state.name,name:"name",id:"name",className:"form-control form-center ",type:"text",required:!0,onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement("label",{htmlFor:"cookTime"},"Cook Time (minutes):",r.a.createElement("input",{value:this.state.cookTime,name:"cookTime",id:"cookTime",className:"form-control form-center",required:!0,onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement("div",{className:"list-groupings"},r.a.createElement("div",{className:"ingredient-grouping"},r.a.createElement("label",null,"Ingredients:"),this.state.ingredients.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("div",{className:"direction-item"},r.a.createElement("input",{placeholder:"ingredient name",className:"ingredient-input-name",onChange:function(t){return e.handleChangeIngredientName(t,a)},value:t.name}),r.a.createElement("input",{placeholder:"ingredient expiration",className:"ingredient-input-expiration",onChange:function(t){return e.handleChangeIngredientexpiration(t,a)},value:t.expiration}),r.a.createElement("input",{placeholder:"quantity",type:"number",className:"ingredient-input-quantity",onChange:function(t){return e.handleChangeIngredientQuantity(t,a)},value:t.quantity,step:"0.1",min:"0"}),r.a.createElement("input",{placeholder:"unit",className:"ingredient-input-unit",type:"text",list:"units",onChange:function(t){return e.handleChangeIngredientUnit(t,a)},value:t.unit}),r.a.createElement("input",{placeholder:"calories",type:"number",className:"ingredient-input-calories",onChange:function(t){return e.handleChangeIngredientCalories(t,a)},value:t.calories,step:"5",min:"0"}),r.a.createElement("datalist",{id:"units"},r.a.createElement("option",null,"whole"),r.a.createElement("option",null,"teaspoon"),r.a.createElement("option",null,"tablespoon"),r.a.createElement("option",null,"cup"),r.a.createElement("option",null,"gallon"),r.a.createElement("option",null,"pound"),r.a.createElement("options",null,"ounce"),r.a.createElement("options",null,"quart"),r.a.createElement("options",null,"pint")),"\xa0\xa0",r.a.createElement("button",{className:"loginBtn btn\r btn-block btncolortheme",onClick:function(t){return e.handleRemoveIngredient(t,a)}},"X")))})),r.a.createElement("button",{className:"addBtn",onClick:function(t){return e.addIngredient(t)}},r.a.createElement("span",{className:"fa fa-plus"}))),r.a.createElement("div",{className:"direction-grouping"},r.a.createElement("label",null,"Directions:"),this.state.directions.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("div",{className:"direction-item"},a+1,".\xa0",r.a.createElement("div",{className:"direction-textdiv"},r.a.createElement("textarea",{className:"direction-textarea",onChange:function(t){return e.handleChangeDirection(t,a)},value:t})),r.a.createElement("button",{className:"loginBtn btn\r btn-block btncolortheme",onClick:function(t){return e.handleRemoveDirection(t,a)}},"X")))})),r.a.createElement("button",{className:"addBtn",onClick:function(t){return e.addDirection(t)}},r.a.createElement("span",{className:"fa fa-plus"})))),r.a.createElement("p",null),r.a.createElement("label",{className:"pictureURL-form",htmlFor:"pictureURL"},"Picture URL:",r.a.createElement("input",{value:this.state.pictureURL,name:"pictureURL",id:"pictureURL",className:"form-control form-center",required:!0,onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement("button",{type:"submit",onClick:this.props.handleChange,className:"loginBtn btn btn-primary\r btn-block btncolortheme",style:{width:"230px",fontSize:"20px",zindex:110}},r.a.createElement("span",{className:this.state.faIcon}),"\xa0",this.state.btnLabel))))}}]),t}(r.a.Component),Y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).viewRecipe=function(e){a.props.setViewId(e),a.props.setEditId(e),a.props.changeMode(E.RECIPES_VIEWRECIPE)},a.renderCards=function(){for(var e=[],t=function(t){var n="recipe-"+t;e.push(r.a.createElement("div",{className:"recipe-card-div",id:n},r.a.createElement("span",{className:"recipe-card-span",key:a.props.recipes.indexOf(a.state.filtered[t]),onClick:a.props.menuOpen?null:function(){return a.viewRecipe(a.props.recipes.indexOf(a.state.filtered[t]))}}," ",r.a.createElement(U,{data:a.state.filtered[t],id:a.props.recipes.indexOf(a.state.filtered[t]),saveRecipe:a.props.saveRecipe}))))},n=0;n<a.state.filtered.length;n+=1)t(n);return e},a.updateFilteredRecipes=function(e){a.setState({filtered:e}),a.forceUpdate()},a.state={filtered:a.props.recipes},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({filtered:this.props.recipes})}},{key:"render",value:function(){return r.a.createElement("div",{id:"recipe-table-page",className:"paddedPage"},r.a.createElement(M,{updateFilteredRecipes:this.updateFilteredRecipes,allRecipes:this.props.recipes}),r.a.createElement("h1",{style:{display:"inline-block",textAlign:"center",position:"absolute",left:"50%",marginLeft:"-135px"}},"Your Recipes"),r.a.createElement(B,{updateFilteredRecipes:this.updateFilteredRecipes,recipeList:this.state.filtered}),r.a.createElement("div",null,0===Object.keys(this.state.filtered).length?r.a.createElement("p",{id:"norecipes"},"No recipes found"):r.a.createElement("div",{className:"recipe-cards-container"},this.renderCards())))}}]),t}(r.a.Component),q=a(33),F=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name;a.setState(Object(N.a)({},t,e.target.value))},a.confirmDelete=function(){a.setState({confirmDelete:!0})},a.doDelete=function(){a.props.deleteRecipe(a.props.id),a.setState({confirmDelete:!1})},a.cancelDelete=function(){a.setState({confirmDelete:!1})},a.favoriteClicked=function(e){e.preventDefault();var t=a.state;a.state.favorited?(a.setState({favorited:!1}),t.favorited=!1):(a.setState({favorited:!0}),t.favorited=!0),delete t.confirmDelete,delete t.viewMode,a.props.saveRecipe(t,a.props.id,E.RECIPES_VIEWRECIPE)},a.changeToEditMode=function(e){if(a.state.viewMode)a.setState({viewMode:!1});else{var t=a.state;delete t.confirmDelete,delete t.viewMode,delete t.servings,delete t[""],setTimeout(a.props.saveRecipe,1e3,t),e.preventDefault(),a.setState({viewMode:!0,servings:1})}},a.getTotalCalories=function(){for(var e=0,t=a.state.ingredients,n=0;n<t.length;n++){var r=t[n].calories*a.state.servings;null!=r&&NaN!=r&&r>0&&(e+=parseInt(r))}return e},a.addServing=function(){a.setState({servings:a.state.servings+1})},a.removeServing=function(){a.state.servings>1&&a.setState({servings:a.state.servings-1})},a.renderConfirmDeleteDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("p",{className:"modal-title"},"Confirm Recipe Deletion"),r.a.createElement("button",{className:"close-modal-button",onClick:a.cancelDelete},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("center",null,r.a.createElement("h4",null,"Are you sure that you want to delete this recipe?")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"loginBtn btn confirm-delete-btn",onClick:a.doDelete},"YES"),r.a.createElement("button",{className:"loginBtn btn confirm-delete-btn",onClick:a.cancelDelete},"NO")))))},a.renderRecipeImageError=function(e){e.target.src="https://www.boilersupplies.com/img/no_image.png"},a.renderRecipeImage=function(){return r.a.createElement("img",{src:a.state.pictureURL,height:"200",style:{float:"left"},alt:"No Image Found",onError:a.renderRecipeImageError})},a.ingredientCalories=function(e){var t=a.state.ingredients[e].calories;return null==t||NaN==t||t<1?0:t*a.state.servings},a.renderIngredients=function(){for(var e=[],t=0;t<a.state.ingredients.length;++t){var n="ingredient-"+t;e.push(r.a.createElement("tr",{key:t},r.a.createElement("td",null,a.state.ingredients[t].name),r.a.createElement("td",null,a.state.ingredients[t].expiration),r.a.createElement("td",null,a.state.ingredients[t].quantity*a.state.servings," ","whole"==a.state.ingredients[t].unit.toLowerCase()?null:a.state.ingredients[t].quantity>1?a.state.ingredients[t].unit+"s":a.state.ingredients[t].unit),r.a.createElement("td",{id:n},a.ingredientCalories(t),"   calories"),a.state.ingredients[t].pictureURL&&r.a.createElement("td",null,r.a.createElement("img",{src:a.state.ingredients[t].pictureURL,height:"40",width:"40"}))))}return r.a.createElement("tbody",null,e)},a.updateIngredientOrder=function(e){var t=0,n=[];for(t=0;t<e.length;++t)n.push(e[t].value);a.setState({ingredients:n})},a.renderIngredientsEditMode=function(){var e=0,t=[];for(e=0;e<a.state.ingredients.length;++e)t.push({value:a.state.ingredients[e],id:e});return r.a.createElement(q.ReactSortable,{handle:".handle",tag:"tbody",list:t,setList:function(e){return a.updateIngredientOrder(e)}},t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("span",{className:"fa fa-bars handle"})),r.a.createElement("td",{className:"view-name-grouping"}," ",r.a.createElement("input",{className:"ingredient-input-name-edit form-control",onChange:function(t){return a.handleChangeIngredientName(t,e.id)},value:e.value.name,placeholder:"Ingredient Name"}),r.a.createElement("input",{className:"ingredient-input-expiration-edit form-control",onChange:function(t){return a.handleChangeIngredientName(t,e.id)},value:e.value.expiration,placeholder:"Ingredient Expiration"}),r.a.createElement("input",{type:"number",className:"form-control ingredient-input-quantity-edit",onChange:function(t){return a.handleChangeIngredientQuantity(t,e.id)},value:e.value.quantity,placeholder:"Quantity",step:"0.01",min:"0"}),r.a.createElement("input",{className:"form-control ingredient-input-unit-edit",list:"units",onChange:function(t){return a.handleChangeIngredientUnit(t,e.id)},value:e.value.unit,placeholder:"Ingredient Unit"}),r.a.createElement("input",{type:"number",className:"form-control ingredient-input-calories-edit",onChange:function(t){return a.handleChangeIngredientCalories(t,e.id)},value:e.value.calories,placeholder:"Calories",step:"5",min:"0"}),r.a.createElement("datalist",{id:"units"},r.a.createElement("option",null,"whole"),r.a.createElement("option",null,"teaspoon"),r.a.createElement("option",null,"tablespoon"),r.a.createElement("option",null,"cup"),r.a.createElement("option",null,"gallon"),r.a.createElement("option",null,"pound"),r.a.createElement("options",null,"ounce"),r.a.createElement("options",null,"quart"),r.a.createElement("options",null,"pint"))),e.value.pictureURL&&r.a.createElement("td",null,r.a.createElement("img",{src:e.value.pictureURL,height:"40",width:"40"})),r.a.createElement("td",{className:"x-table-col"},r.a.createElement("button",{className:"loginBtn btn",onClick:function(t){return a.handleRemoveIngredient(t,e.id)}},"X")))})))},a.renderDirections=function(){for(var e=[],t=0;t<a.state.directions.length;++t)e.push(r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,a.state.directions[t])));return r.a.createElement("tbody",null,e)},a.updateDirectionOrder=function(e){var t=0,n=[];for(t=0;t<e.length;++t)n.push(e[t].value);a.setState({directions:n})},a.renderDirectionsEditMode=function(){var e=0,t=[];for(e=0;e<a.state.directions.length;++e)t.push({value:a.state.directions[e],id:e});return r.a.createElement(q.ReactSortable,{handle:".handle",tag:"tbody",list:t,setList:function(e){return a.updateDirectionOrder(e)}},t.map((function(e){return r.a.createElement("tr",{key:e.id,className:"direction-row"},r.a.createElement("td",null,r.a.createElement("span",{className:"fa fa-bars handle"})),r.a.createElement("td",null,e.id+1),r.a.createElement("td",null," ",r.a.createElement("div",null,r.a.createElement("textarea",{className:"form-control direction-textarea-edit",onChange:function(t){return a.handleChangeDirection(t,e.id)},value:e.value}))),r.a.createElement("td",{className:"x-table-col"},r.a.createElement("button",{className:"loginBtn btn",style:{height:"5%"},onClick:function(t){return a.handleRemoveDirection(t,e.id)}},"X")))})))},a.state=a.props.data,a.state.confirmDelete=!1,a.state.viewMode=!0,a.state.servings=1,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"addDirection",value:function(e){e.preventDefault(),this.setState({directions:[].concat(Object(G.a)(this.state.directions),[""])})}},{key:"addIngredient",value:function(e){e.preventDefault();var t={name:"",quantity:0,unit:"",calories:0,expiration:""};this.setState({ingredients:[].concat(Object(G.a)(this.state.ingredients),[t])})}},{key:"handleChangeIngredientName",value:function(e,t){this.state.ingredients[t].name=e.target.value,this.setState({ingredients:this.state.ingredients})}},{key:"handleChangeIngredientexpiration",value:function(e,t){this.state.ingredients[t].expiration=e.target.value,this.setState({ingredients:this.state.ingredients})}},{key:"handleChangeIngredientQuantity",value:function(e,t){this.state.ingredients[t].quantity=parseFloat(e.target.value),this.setState({ingredients:this.state.ingredients})}},{key:"handleChangeIngredientUnit",value:function(e,t){this.state.ingredients[t].unit=parseInt(e.target.value),this.setState({ingredients:this.state.ingredients})}},{key:"handleChangeIngredientCalories",value:function(e,t){this.state.ingredients[t].calories=e.target.value,this.setState({ingredients:this.state.ingredients})}},{key:"handleRemoveDirection",value:function(e,t){e.preventDefault(),this.state.directions.splice(t,1),this.setState({directions:this.state.directions})}},{key:"handleRemoveIngredient",value:function(e,t){e.preventDefault(),this.state.ingredients.splice(t,1),this.setState({ingredients:this.state.ingredients})}},{key:"handleChangeDirection",value:function(e,t){this.state.directions[t]=e.target.value,this.setState({directions:this.state.directions})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"paddedPage"},r.a.createElement("div",{className:"recipeContent"},r.a.createElement("div",null,this.state.pictureURL?this.renderRecipeImage():null,r.a.createElement("div",{className:"recipeContentTitleInfo"},r.a.createElement("div",null,r.a.createElement("h1",{className:"view-name-grouping"},this.state.viewMode?r.a.createElement("p",null,this.state.name," "):r.a.createElement("label",{htmlFor:"name"},r.a.createElement("input",{value:this.state.name,name:"name",id:"name",className:"name-edit-input form-control",type:"text",required:!0,onChange:this.handleChange})),r.a.createElement("span",{className:"fav-btn fa fa-star "+(this.state.favorited?"favorited":"unfavorited"),onClick:function(t){return e.favoriteClicked(t)}}))),r.a.createElement("h3",{className:"recipeContentTitleInfoSubInfo"},"Added: ",this.state.dateAdded),r.a.createElement("h3",{className:"recipeContentTitleInfoSubInfo"},this.state.viewMode?r.a.createElement("span",null,"Cook Time: ",this.state.cookTime," minutes"):r.a.createElement("label",{htmlFor:"cookTime"},"Cook Time:",r.a.createElement("input",{name:"cookTime",id:"cookTime",type:"text",value:this.state.cookTime,className:"cooktime-edit-input form-control input-style",required:!0,onChange:this.handleChange}),"minutes")),r.a.createElement("h3",{className:"recipeContentTitleInfoSubInfo"},"Total Calories:"," ",isNaN(this.getTotalCalories())?0:this.getTotalCalories()),this.state.viewMode&&r.a.createElement("h3",{className:"recipeContentTitleInfoSubInfo"},"Servings:\xa0",r.a.createElement("i",{id:"removeservingbutton",class:"fa fa-minus-circle",onClick:this.removeServing}),"\xa0",r.a.createElement("span",{id:"servings"},this.state.servings),"\xa0",r.a.createElement("i",{id:"addservingbutton",class:"fa fa-plus-circle",onClick:this.addServing})),!this.state.viewMode&&r.a.createElement("label",{htmlFor:"pictureURL"},"Picture URL:",r.a.createElement("input",{name:"pictureURL",id:"pictureURL",type:"text",className:"picture-url-input form-control input-style",value:this.state.pictureURL,onChange:this.handleChange}))),r.a.createElement("div",{className:"view-recipe-btn-family"},r.a.createElement("div",null,r.a.createElement("span",{className:this.state.viewMode?"view-recipe-btn view-recipe-btn-edit fa fa-edit":"view-recipe-btn view-recipe-btn-edit fa fa-save",onClick:function(t){return e.changeToEditMode(t)}})),r.a.createElement("div",null,r.a.createElement("span",{className:"view-recipe-btn fa fa-trash",onClick:this.confirmDelete})))),r.a.createElement("div",{className:"recipeContentListInfo"},r.a.createElement("h4",null,"Ingredients "),r.a.createElement("table",{className:"table table-hover ingredientsTable"},this.state.viewMode?this.renderIngredients():this.renderIngredientsEditMode()),r.a.createElement("h4",null,r.a.createElement("center",null,!this.state.viewMode&&r.a.createElement("button",{className:"addBtn",onClick:function(t){return e.addIngredient(t)}},r.a.createElement("span",{className:"fa fa-plus"})))),r.a.createElement("h4",null,"Directions "),r.a.createElement("table",{className:"table table-hover directionsTable"},this.state.viewMode?this.renderDirections():this.renderDirectionsEditMode()),r.a.createElement("h4",null,r.a.createElement("center",null,!this.state.viewMode&&r.a.createElement("button",{className:"addBtn",onClick:function(t){return e.addDirection(t)}},r.a.createElement("span",{className:"fa fa-plus"}))))),this.state.confirmDelete?this.renderConfirmDeleteDialog():null))}}]),t}(r.a.Component),z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).fetchRecipes=function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,s,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:null,n="/recipes/"+a.props.user.id,e.next=4,fetch(n,{method:"GET"});case 4:if(200==(r=e.sent).status){e.next=11;break}return e.next=8,r.text();case 8:return i=e.sent,alert("Sorry, there was an error obtaining books data for this user: "+i),e.abrupt("return");case 11:return e.next=13,r.json();case 13:s=e.sent,a.setState({recipes:JSON.parse(s)}),t&&a.props.changeMode(t);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.setDeleteId=function(e){a.setState({deleteId:e})},a.setEditId=function(e){a.setState({editId:e})},a.setViewId=function(e){a.setState({viewId:e})},a.editRecipe=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r,i,s,o,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:a.state.editId,r=l.length>2&&void 0!==l[2]?l[2]:null,i="/recipes/"+a.props.user.id+"/"+a.state.recipes[n]._id,e.next=5,fetch(i,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)});case 5:return s=e.sent,e.next=8,s.text();case 8:o=e.sent,200!=s.status?alert("An error occurred when attempting to update a recipe in the database: "+o):a.fetchRecipes(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteRecipe=function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:a.state.deleteId,n="/recipes/"+a.props.user.id+"/"+a.state.recipes[t]._id,e.next=4,fetch(n,{method:"DELETE"});case 4:return r=e.sent,e.next=7,r.text();case 7:i=e.sent,200!=r.status&&alert("An error occurred when attempting to delete recipe from database: "+i),a.fetchRecipes(E.RECIPES);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.addRecipe=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r,i,s,o,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date,r=String(n.getDate()).padStart(2,"0"),i=String(n.getMonth()+1).padStart(2,"0"),s=n.getFullYear(),n=i+"/"+r+"/"+s,t.dateAdded=n,o="/recipes/"+a.props.user.id,e.next=9,fetch(o,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)});case 9:return l=e.sent,e.next=12,l.text();case 12:u=e.sent,200!=l.status?alert("An error occurred when attempting to add new recipe to database: "+u):a.fetchRecipes(E.RECIPES);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={recipes:[],deleteId:"",editId:"",viewId:""},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetchRecipes(E.RECIPES)}},{key:"render",value:function(){var e=this;switch(this.props.mode){case E.RECIPES:return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{recipes:this.state.recipes,setEditId:this.setEditId,setViewId:this.setViewId,saveRecipe:this.editRecipe,changeMode:this.props.changeMode,menuOpen:this.props.menuOpen}),r.a.createElement("div",{className:"floatbtn-location"},r.a.createElement(L,{handleClick:function(){return e.props.changeMode(E.RECIPES_ADDRECIPE)},icon:"fa fa-plus"})));case E.RECIPES_ADDRECIPE:return r.a.createElement(Q,{mode:this.props.mode,saveRecipe:this.addRecipe});case E.RECIPES_VIEWRECIPE:return r.a.createElement(F,{mode:this.props.mode,id:this.state.viewId,data:this.state.recipes[this.state.viewId],changeMode:this.props.changeMode,saveRecipe:this.editRecipe,deleteRecipe:this.deleteRecipe})}}}]),t}(r.a.Component),V=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).editPantry=function(e){a.props.setEditId(e),a.props.changeMode(E.PANTRY_EDITINGREDIENT)},a.confirmDelete=function(e){a.props.setDeleteId(e)},a.renderTable=function(){for(var e=[],t=function(t){e.push(r.a.createElement("tr",{key:t},r.a.createElement("td",null,a.props.pantry[t].name),r.a.createElement("td",null,a.props.pantry[t].quantity,a.props.pantry[t].unit),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return a.editPantry(t)}},r.a.createElement("span",{className:"fa fa-eye"}))),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return a.confirmDelete(t)}},r.a.createElement("span",{className:"fa fa-trash"})))))},n=0;n<a.props.pantry.length;++n)t(n);return e},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"padded-page"},r.a.createElement("h1",null),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Ingredient"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"View/Edit..."),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,0===Object.keys(this.props.pantry).length?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5",style:{fontStyle:"italic"}},"No Ingredients Added")):this.renderTable())))}}]),t}(r.a.Component),J=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).confirmDelete=function(e){a.props.setDeleteId(e)},a.renderTable=function(){for(var e=[],t=function(t){e.push(r.a.createElement("tr",{key:t},r.a.createElement("td",null,a.props.shopCart[t].name),r.a.createElement("td",null,a.props.shopCart[t].quantity,a.props.shopCart[t].units),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return a.confirmDelete(t)}},r.a.createElement("span",{className:"fa fa-trash"})))))},n=0;n<a.props.shopCart.length;++n)t(n);return e},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"padded-page"},r.a.createElement("h1",null),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Ingredient"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,0===Object.keys(this.props.shopCart).length?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"5",style:{fontStyle:"italic"}},"No Items Added to the Shopping cart")):this.renderTable())))}}]),t}(r.a.Component),W=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name;a.setState(Object(N.a)({},t,e.target.value))},a.handleSubmit=function(e){a.setState({faIcon:"fa fa-spin fa-spinner",btnLabel:a.props.mode===E.PANTRY_ADDINGREDIENT?"Saving...":"Updating..."});var t=a.state;delete t.faIcon,delete t.btnLabel,delete t.confirmDelete,setTimeout(a.props.savePantry,1e3,t),e.preventDefault()},a.props.mode===E.PANTRY_ADDINGREDIENT?a.state={name:"",calories:"",pictureURL:"",unit:"units",expiration:"",quantity:"",faIcon:"fa fa-save",btnLabel:"Save Ingredient"}:a.props.mode===E.GROCERY_ADDINGREDIENT?a.state={name:"",calories:"",pictureURL:"",unit:"units",expiration:"",quantity:"",faIcon:"fa fa-save",btnLabel:"Add to Cart"}:(a.state=a.props.startData,a.state.faIcon="fa fa-edit",a.state.btnLabel="Update Ingredient"),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"paddedPage"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",null),r.a.createElement("center",null,r.a.createElement("label",{htmlFor:"name"},"Ingredient Name:",r.a.createElement("input",{value:this.state.name,name:"name",id:"name",className:"form-control form-center ",type:"text",required:!0,onChange:this.handleChange})," "),r.a.createElement("p",null),r.a.createElement("label",{htmlFor:"calories"},"Calories:",r.a.createElement("input",{value:this.state.calories,name:"calories",id:"calories",className:"form-control form-center",onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement("label",{className:"pictureURL-form",htmlFor:"pictureURL"},"Picture URL:",r.a.createElement("input",{value:this.state.pictureURL,name:"pictureURL",id:"pictureURL",className:"form-control form-center",required:!0,onChange:this.handleChange})),r.a.createElement("p",null),r.a.createElement("label",{htmlFor:"calories"},"Quantity:",r.a.createElement("input",{value:this.state.quantity,name:"quantity",id:"quantity",className:"form-control form-center",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"unit"},"Units:",r.a.createElement("input",{value:this.state.unit,name:"unit",id:"unit",className:"form-control form-center",onChange:this.handleChange}))),r.a.createElement("p",null),r.a.createElement("label",{htmlFor:"expiration"},"Expiration Date:",r.a.createElement("input",{value:this.state.expiration,name:"expiration",id:"expiration",className:"form-control form-center",onChange:this.handleChange})),r.a.createElement("button",{type:"submit",onClick:this.props.handleChange,className:"loginBtn btn btn-primary\r btn-block btncolortheme",style:{width:"230px",fontSize:"20px",zindex:110}},r.a.createElement("span",{className:this.state.faIcon}),"\xa0",this.state.btnLabel))))}}]),t}(r.a.Component),Z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).fetchPantry=function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,s,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:null,n="/pantry/"+a.props.user.id,e.next=4,fetch(n,{method:"GET"});case 4:if(200==(r=e.sent).status){e.next=11;break}return e.next=8,r.text();case 8:return i=e.sent,alert("Sorry, there was an error obtaining books data for this user: "+i),e.abrupt("return");case 11:return e.next=13,r.json();case 13:s=e.sent,a.setState({pantry:JSON.parse(s)}),t&&a.props.changeMode(t);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.fetchGroceryList=function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,s,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:null,n="/groceryList/"+a.props.user.id,e.next=4,fetch(n,{method:"GET"});case 4:if(200==(r=e.sent).status){e.next=11;break}return e.next=8,r.text();case 8:return i=e.sent,alert("Sorry, there was an error obtaining books data for this user: "+i),e.abrupt("return");case 11:return e.next=13,r.json();case 13:s=e.sent,a.setState({groceryList:JSON.parse(s)}),t&&a.props.changeMode(t);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.setDeleteId=function(e){a.setState({deleteId:e}),a.deleteIngredient()},a.setDeleteId2=function(e){a.setState({groceryDeleteId:e}),a.deleteGrocery()},a.setEditId=function(e){a.setState({editId:e})},a.editIngredient=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r,i,s,o,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:a.state.editId,r=l.length>2&&void 0!==l[2]?l[2]:null,i="/pantry/"+a.props.user.id+"/"+a.state.pantry[n]._id,e.next=5,fetch(i,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)});case 5:return s=e.sent,e.next=8,s.text();case 8:o=e.sent,200!=s.status?alert("An error occurred when attempting to update a recipe in the database: "+o):a.fetchPantry(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteIngredient=function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:a.state.deleteId,n="/pantry/"+a.props.user.id+"/"+a.state.pantry[t]._id,e.next=4,fetch(n,{method:"DELETE"});case 4:return r=e.sent,e.next=7,r.text();case 7:i=e.sent,200!=r.status&&alert("An error occurred when attempting to delete recipe from database: "+i),a.fetchPantry(E.PANTRY);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.deleteGrocery=function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:a.state.groceryDeleteId,n="/groceryList/"+a.props.user.id+"/"+a.state.groceryList[t]._id,e.next=4,fetch(n,{method:"DELETE"});case 4:return r=e.sent,e.next=7,r.text();case 7:i=e.sent,200!=r.status&&alert("An error occurred when attempting to delete recipe from database: "+i),a.fetchGroceryList(E.PANTRY);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.addIngredient=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.state.pantry.push(t),n="/pantry/"+a.props.user.id,e.next=4,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(a.state.pantry)});case 4:return r=e.sent,e.next=7,r.text();case 7:i=e.sent,200!=r.status?alert("An error occurred when attempting to add new recipe to database: "+i):a.fetchPantry(E.PANTRY);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.addGrocery=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/groceryList/"+a.props.user.id,a.state.groceryList.push(t),e.next=4,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(a.state.groceryList)});case 4:return r=e.sent,e.next=7,r.text();case 7:i=e.sent,200!=r.status?alert("An error occurred when attempting to add new recipe to database: "+i):a.fetchPantry(E.PANTRY);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={pantry:[],groceryList:[],deleteId:"",editId:"",groceryDeleteId:""},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetchPantry(E.PANTRY),this.fetchGroceryList(E.PANTRY)}},{key:"render",value:function(){var e=this;switch(this.props.mode){case E.PANTRY:return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"paddedPage center"},r.a.createElement("h1",{align:"center"},"Grocery Management"),r.a.createElement("h2",{align:"center"},"Pantry"),r.a.createElement(V,{pantry:this.state.pantry,changeMode:this.props.changeMode,setEditId:this.setEditId,setDeleteId:this.setDeleteId,savePantry:this.editIngredient,menuOpen:this.props.menuOpen}),r.a.createElement("div",{className:"floatbtn-location"},r.a.createElement(L,{handleClick:function(){return e.props.changeMode(E.PANTRY_ADDINGREDIENT)},icon:"fa fa-plus"})),r.a.createElement("h2",{align:"center"},"Groceries"),r.a.createElement("button",{onClick:function(){return e.props.changeMode(E.GROCERY_ADDINGREDIENT)}},"Add to Shopping Cart"),r.a.createElement(J,{shopCart:this.state.groceryList,changeMode:this.props.changeMode,setEditId:this.setEditId,setDeleteId:this.setDeleteId2,saveGrocery:this.addGrocery,menuOpen:this.props.menuOpen}),r.a.createElement("div",{className:"floatbtn-location"},r.a.createElement(L,{handleClick:function(){return e.props.changeMode(E.PANTRY_ADDINGREDIENT)},icon:"fa fa-plus"}))));case E.PANTRY_ADDINGREDIENT:return r.a.createElement(W,{mode:this.props.mode,savePantry:this.addIngredient});case E.GROCERY_ADDINGREDIENT:return r.a.createElement(W,{mode:this.props.mode,savePantry:this.addGrocery});case E.PANTRY_EDITINGREDIENT:return r.a.createElement(W,{mode:this.props.mode,savePantry:this.editIngredient,pantryData:this.state.pantry[this.state.editId]})}}}]),t}(r.a.Component),$={};$[E.LOGIN]="Welcome to Your Library",$[E.RECIPES]="Your Recipes",$[E.RECIPES_ADDRECIPE]="Add New Recipe",$[E.RECIPES_EDITRECIPE]="Edit Recipe",$[E.PANTRY]="Grocery Management",$[E.PANTRY_EDITINGREDIENT]="Edit Ingredient",$[E.PANTRY_ADDINGREDIENT]="Add Ingredient",$[E.GROCERY_ADDINGREDIENT]="Add to Shopping Cart";var X={};X[E.LOGIN]=j,X[E.RECIPES]=z,X[E.RECIPES_ADDRECIPE]=z,X[E.RECIPES_EDITRECIPE]=z,X[E.RECIPES_VIEWRECIPE]=z,X[E.PANTRY]=Z,X[E.PANTRY_EDITINGREDIENT]=Z,X[E.PANTRY_ADDINGREDIENT]=Z,X[E.GROCERY_ADDINGREDIENT]=Z;var H=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChangeMode=function(e){n.setState({mode:e})},n.openMenu=function(){n.setState({menuOpen:!0})},n.closeMenu=function(){n.setState({menuOpen:!1})},n.toggleMenuOpen=function(){n.setState((function(e){return{menuOpen:!e.menuOpen}}))},n.setUser=function(e){n.setState({user:e})},n.showEditDialog=function(){n.setState({showEditUser:!0})},n.setAuthenticated=function(e){n.setState({authenticated:e})},n.handleNewEditChange=function(e){var t=n.state.user;t[e.target.name]=e.target.value,n.setState({user:t})},n.handleClick=function(e){n.state.menuOpen&&n.closeMenu(),e.stopPropagation()},n.toggleAbout=function(){n.setState((function(e){return{showAbout:!e.showAbout}}))},n.handleEditAccount=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={displayName:n.state.user.displayName,securityQuestion:n.state.user.securityQuestion,securityAnswer:n.state.user.securityAnswer},r="/users/"+n.state.user.id,e.next=5,fetch(r,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",userId:n.state.user.id,body:JSON.stringify(a)});case 5:200!==e.sent.status&&alert("userNotedited"),n.setState({showEditUser:!1});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderEditAccountDialog=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"Edit Account"),r.a.createElement("button",{className:"close-modal-button",onClick:function(){n.setState({showEditUser:!1})}},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:n.handleEditAccount},r.a.createElement("label",null,"Email:",r.a.createElement("input",{className:"form-control form-text",name:"id",type:"email",size:"35",placeholder:"Enter Email Address",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}",readOnly:!0,required:!0,value:n.state.user.id,onChange:n.handleNewEditChange})),r.a.createElement("label",null,"DisplayName:",r.a.createElement("textarea",{className:"form-control form-text",name:"displayName",size:"35",placeholder:"Security Question",rows:"2",cols:"35",maxLength:"100",required:!0,value:n.state.user.displayName,onChange:n.handleNewEditChange})),r.a.createElement("label",null,"Security Question:",r.a.createElement("textarea",{className:"form-control form-text",name:"securityQuestion",size:"35",placeholder:"Security Question",rows:"2",cols:"35",maxLength:"100",required:!0,readOnly:"local"!=n.state.user.authStrategy,value:n.state.user.securityQuestion,onChange:n.handleNewEditChange})),r.a.createElement("label",null,"Answer to Security Question:",r.a.createElement("textarea",{className:"form-control form-text",name:"securityAnswer",type:"text",placeholder:"Answer",rows:"2",cols:"35",maxLength:"100",required:!0,readOnly:"local"!=n.state.user.authStrategy,value:n.state.user.securityAnswer,onChange:n.handleNewEditChange})),r.a.createElement("button",{role:"submit",className:"loginBtn btn btn-primary\r btn-block btncolortheme"},r.a.createElement("span",{className:"fa fa-user-plus"}),"\xa0Edit Account"))))))},n.renderAbout=function(){return r.a.createElement("div",{className:"modal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title"},r.a.createElement("b",null,"About Your Recipe App"),r.a.createElement("button",{className:"close-modal-button",onClick:n.toggleAbout},"\xd7"))),r.a.createElement("div",{className:"modal-body "},r.a.createElement("center",null,r.a.createElement("img",{src:a(57),height:"280px",width:"370px",className:"aboutBody"}),r.a.createElement("h3",null,"Store Your Recipes Online!"),r.a.createElement("p",null,r.a.createElement("em",null,"Version 1 (Live), Build 20.6.2018 ",r.a.createElement("br",null),"\xa9 2020 Recipe Team. All rights reserved."))),r.a.createElement("p",null,r.a.createElement("b",null,"Your Recipe App supports")),r.a.createElement("ul",{className:"yourRecipesSupports"},r.a.createElement("li",null,"Adding and removing recipes in your personal cook book"),r.a.createElement("li",null,"Managing your groceries")),r.a.createElement("br",null),r.a.createElement("p",null,"Your Recipe App was first developed by The Recipe Team, which is composed of two teams. They are doing this for a CptS 489 project.")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"loginBtn btn btn-primary btn-color-theme",onClick:n.toggleAbout},"OK")))))},n.state={mode:E.LOGIN,menuOpen:!1,user:"",showAbout:!1,authenticated:!1,showEditUser:!1},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("click",this.handleClick),this.state.authenticated||fetch("/auth/test").then((function(e){return e.json()})).then((function(t){if(t.isAuthenticated){var a=JSON.parse(localStorage.getItem("yourRecipeUserData"));null==a&&(a={}),a.hasOwnProperty(t.user.id)||(a[t.user.id]={accountInfo:{provider:t.user.provider,password:"",securityQuestion:"",securityAnswer:""},Recipes:{}},localStorage.setItem("yourLibraryUserData",JSON.stringify(a))),e.setState({authenticated:!0,user:t.user,mode:E.RECIPES})}}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=X[this.state.mode];return r.a.createElement("div",{onClick:this.handleClick},this.state.mode!=E.LOGIN&&r.a.createElement(y,{title:$[this.state.mode],mode:this.state.mode,changeMode:this.handleChangeMode,user:this.state.user,menuOpen:this.state.menuOpen,toggleMenuOpen:this.toggleMenuOpen,showAbout:this.toggleAbout,showEditDialog:this.showEditDialog}),r.a.createElement(e,{menuOpen:this.state.menuOpen,mode:this.state.mode,changeMode:this.handleChangeMode,setAuthenticated:this.setAuthenticated,user:this.state.user,setUser:this.setUser}),this.state.showAbout?this.renderAbout():null,this.state.showEditUser?this.renderEditAccountDialog():null)}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(58);s.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.d6c6ae0a.chunk.js.map